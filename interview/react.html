<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <link rel="icon" href="https://gordan404.github.io/blog/favicon.ico"><title>前端面试指北 | 知识库</title><meta name="description" content="知识库强，则技术强，技术强则国强"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.22">
    <link rel="preload" href="/blog/assets/js/runtime~app.4c3bfb7f.js" as="script"><link rel="preload" href="/blog/assets/css/styles.ef0a818f.css" as="style"><link rel="preload" href="/blog/assets/js/9177.76fd6710.js" as="script"><link rel="preload" href="/blog/assets/js/app.72cb2feb.js" as="script">
    <link rel="stylesheet" href="/blog/assets/css/styles.ef0a818f.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><span><a href="/blog/" class=""><img class="logo" src="/blog/logoH.png" alt="知识库"><span class="site-name can-hide">知识库</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="前端面试指北"><span class="title">前端面试指北</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="前端面试指北"><span class="title">前端面试指北</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/blog/interview/README.md" class="nav-link" aria-label="JavaScript基础知识"><!--[--><!--]--> JavaScript基础知识 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/interview/h5.md" class="nav-link" aria-label="HTML和CSS相关"><!--[--><!--]--> HTML和CSS相关 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/interview/browser.md" class="nav-link" aria-label="浏览器和网络知识点及常考"><!--[--><!--]--> 浏览器和网络知识点及常考 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/interview/vue.md" class="nav-link" aria-label="Vue知识点及常考"><!--[--><!--]--> Vue知识点及常考 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/interview/react.md" class="nav-link" aria-label="React知识点及常考"><!--[--><!--]--> React知识点及常考 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/interview/webpack.md" class="nav-link" aria-label="Webpack相关"><!--[--><!--]--> Webpack相关 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/interview/algorithm.md" class="nav-link" aria-label="算法相关"><!--[--><!--]--> 算法相关 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/interview/javascript.md" class="nav-link" aria-label="JavaScript基础知识"><!--[--><!--]--> JavaScript基础知识 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="前端书籍"><span class="title">前端书籍</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="前端书籍"><span class="title">前端书籍</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>JavaScript书籍</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/blog/books/javascript/know-up.md" class="nav-link" aria-label="你不知道的JavaScript(上)"><!--[--><!--]--> 你不知道的JavaScript(上) <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/blog/books/javascript/know-down.md" class="nav-link" aria-label="你不知道的JavaScript(中下)"><!--[--><!--]--> 你不知道的JavaScript(中下) <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/blog/books/javascript/red-book.md" class="nav-link" aria-label="JavaScript高级程序设计"><!--[--><!--]--> JavaScript高级程序设计 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/blog/books/javascript/algorithm.md" class="nav-link" aria-label="JavaScript数据结构和算法"><!--[--><!--]--> JavaScript数据结构和算法 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/blog/designPattern/" class="nav-link" aria-label="JavaScript设计模式与开发实践"><!--[--><!--]--> JavaScript设计模式与开发实践 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/blog/books/javascript/es6.md" class="nav-link" aria-label="深入理解ES6"><!--[--><!--]--> 深入理解ES6 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>Git书籍</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/blog/books/git/" class="nav-link" aria-label="精通Git"><!--[--><!--]--> 精通Git <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/blog/vueAnalysis/introduction/" class="nav-link" aria-label="Vue源码分析"><!--[--><!--]--> Vue源码分析 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="自动化测试"><span class="title">自动化测试</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="自动化测试"><span class="title">自动化测试</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/blog/test/vueTest.md" class="nav-link" aria-label="Vue应用测试"><!--[--><!--]--> Vue应用测试 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="打包工具"><span class="title">打包工具</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="打包工具"><span class="title">打包工具</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/blog/webpack/webpack/" class="nav-link" aria-label="Webpack"><!--[--><!--]--> Webpack <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/rollup" class="nav-link" aria-label="Rollup"><!--[--><!--]--> Rollup <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="TypeScript"><span class="title">TypeScript</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="TypeScript"><span class="title">TypeScript</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/blog/typescript/" class="nav-link" aria-label="TypeScript基础"><!--[--><!--]--> TypeScript基础 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/typescript/challenge.md" class="nav-link" aria-label="TypeScript类型挑战"><!--[--><!--]--> TypeScript类型挑战 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/Gordan404/blog" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="前端面试指北"><span class="title">前端面试指北</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="前端面试指北"><span class="title">前端面试指北</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/blog/interview/README.md" class="nav-link" aria-label="JavaScript基础知识"><!--[--><!--]--> JavaScript基础知识 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/interview/h5.md" class="nav-link" aria-label="HTML和CSS相关"><!--[--><!--]--> HTML和CSS相关 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/interview/browser.md" class="nav-link" aria-label="浏览器和网络知识点及常考"><!--[--><!--]--> 浏览器和网络知识点及常考 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/interview/vue.md" class="nav-link" aria-label="Vue知识点及常考"><!--[--><!--]--> Vue知识点及常考 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/interview/react.md" class="nav-link" aria-label="React知识点及常考"><!--[--><!--]--> React知识点及常考 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/interview/webpack.md" class="nav-link" aria-label="Webpack相关"><!--[--><!--]--> Webpack相关 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/interview/algorithm.md" class="nav-link" aria-label="算法相关"><!--[--><!--]--> 算法相关 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/interview/javascript.md" class="nav-link" aria-label="JavaScript基础知识"><!--[--><!--]--> JavaScript基础知识 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="前端书籍"><span class="title">前端书籍</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="前端书籍"><span class="title">前端书籍</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>JavaScript书籍</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/blog/books/javascript/know-up.md" class="nav-link" aria-label="你不知道的JavaScript(上)"><!--[--><!--]--> 你不知道的JavaScript(上) <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/blog/books/javascript/know-down.md" class="nav-link" aria-label="你不知道的JavaScript(中下)"><!--[--><!--]--> 你不知道的JavaScript(中下) <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/blog/books/javascript/red-book.md" class="nav-link" aria-label="JavaScript高级程序设计"><!--[--><!--]--> JavaScript高级程序设计 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/blog/books/javascript/algorithm.md" class="nav-link" aria-label="JavaScript数据结构和算法"><!--[--><!--]--> JavaScript数据结构和算法 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/blog/designPattern/" class="nav-link" aria-label="JavaScript设计模式与开发实践"><!--[--><!--]--> JavaScript设计模式与开发实践 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/blog/books/javascript/es6.md" class="nav-link" aria-label="深入理解ES6"><!--[--><!--]--> 深入理解ES6 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>Git书籍</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/blog/books/git/" class="nav-link" aria-label="精通Git"><!--[--><!--]--> 精通Git <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/blog/vueAnalysis/introduction/" class="nav-link" aria-label="Vue源码分析"><!--[--><!--]--> Vue源码分析 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="自动化测试"><span class="title">自动化测试</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="自动化测试"><span class="title">自动化测试</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/blog/test/vueTest.md" class="nav-link" aria-label="Vue应用测试"><!--[--><!--]--> Vue应用测试 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="打包工具"><span class="title">打包工具</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="打包工具"><span class="title">打包工具</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/blog/webpack/webpack/" class="nav-link" aria-label="Webpack"><!--[--><!--]--> Webpack <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/rollup" class="nav-link" aria-label="Rollup"><!--[--><!--]--> Rollup <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="TypeScript"><span class="title">TypeScript</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="TypeScript"><span class="title">TypeScript</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/blog/typescript/" class="nav-link" aria-label="TypeScript基础"><!--[--><!--]--> TypeScript基础 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/blog/typescript/challenge.md" class="nav-link" aria-label="TypeScript类型挑战"><!--[--><!--]--> TypeScript类型挑战 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/Gordan404/blog" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item">前端面试指北</p><ul class=""><li><!--[--><a aria-current="page" href="/blog/interview/react.html#react基础" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="React基础"><!--[--><!--]--> React基础 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/blog/interview/react.html#什么是-react" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="什么是 React"><!--[--><!--]--> 什么是 React <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/blog/interview/react.html#函数式编程" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="函数式编程"><!--[--><!--]--> 函数式编程 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/blog/interview/react.html#vue-react一些区别" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Vue React一些区别"><!--[--><!--]--> Vue React一些区别 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/blog/interview/react.html#react的生命周期" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="React的生命周期"><!--[--><!--]--> React的生命周期 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/blog/interview/react.html#react-父子组建生命周期" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="React 父子组建生命周期"><!--[--><!--]--> React 父子组建生命周期 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/blog/interview/react.html#为什么react中事件绑定的函数内部this默认指向undefined" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="为什么React中事件绑定的函数内部this默认指向undefined"><!--[--><!--]--> 为什么React中事件绑定的函数内部this默认指向undefined <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/blog/interview/react.html#浅谈react合成" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="浅谈React合成"><!--[--><!--]--> 浅谈React合成 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/blog/interview/react.html#react-组件中怎么做事件代理" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="React 组件中怎么做事件代理"><!--[--><!--]--> React 组件中怎么做事件代理 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/blog/interview/react.html#setstate" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="setState"><!--[--><!--]--> setState <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/blog/interview/react.html#react-进阶" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="React 进阶"><!--[--><!--]--> React 进阶 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/blog/interview/react.html#受控和非受控组" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="受控和非受控组"><!--[--><!--]--> 受控和非受控组 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/blog/interview/react.html#类组件和函数组件之间的区别" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="类组件和函数组件之间的区别"><!--[--><!--]--> 类组件和函数组件之间的区别 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/blog/interview/react.html#portals-传送门" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Portals(传送门)"><!--[--><!--]--> Portals(传送门) <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="前端面试指北" tabindex="-1"><a class="header-anchor" href="#前端面试指北" aria-hidden="true">#</a> 前端面试指北</h1><h2 id="react基础" tabindex="-1"><a class="header-anchor" href="#react基础" aria-hidden="true">#</a> React基础</h2><h3 id="什么是-react" tabindex="-1"><a class="header-anchor" href="#什么是-react" aria-hidden="true">#</a> 什么是 React</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>React是一个简单的javascript UI库，用于构建高效、快速的用户界面。它是一个轻量级库，因此很受欢迎。它遵循组件设计模式、声明式编程范式和函数式编程概念，以使前端应用程序更高效。它使用虚拟DOM来有效地操作DOM。它遵循从高阶组件到低阶组件的单向数据流。</p></div><h3 id="函数式编程" tabindex="-1"><a class="header-anchor" href="#函数式编程" aria-hidden="true">#</a> 函数式编程</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>函数式编程是声明式编程的一部分。javascript中的函数是第一类公民，这意味着函数是数据，你可以像保存变量一样在应用程序中保存、检索和传递这些函数。</p><p><strong>函数式编程有些核心的概念，如下：</strong></p><ul><li>不可变性(Immutability)</li><li>纯函数(Pure Functions)</li><li>数据转换(Data Transformations)</li><li>高阶函数 (Higher-Order Functions)</li><li>递归</li><li>组合</li></ul></div><h3 id="vue-react一些区别" tabindex="-1"><a class="header-anchor" href="#vue-react一些区别" aria-hidden="true">#</a> Vue React一些区别</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li><code>Vue</code> 定义了很多指令(如v-for、v-if)去实现一些展示，<code>React</code> 主要还是依赖JS方法去实现</li><li><code>Vue</code> 绑定事件 <code>Event</code> 是原生的和DOM事件一样, 而 <code>React</code> 是封装组合之后的 <code>SyntheticBaseEvent</code> 需要访问<code>nativeEvent</code> 才能获取原生<code>Event</code>。</li><li><code>Vue</code> 使用 <code>v-model</code> 语法糖实现双向数据绑定，而<code>React</code>则需要自己绑定<code>onChange</code> 事件</li></ol></div><h3 id="react的生命周期" tabindex="-1"><a class="header-anchor" href="#react的生命周期" aria-hidden="true">#</a> React的生命周期</h3><p><img src="/blog/assets/img/37.1d25cb01.png" alt="React的生命周期"></p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>创建、 更新、 销毁三个阶段 <code>componentDidMount</code> =&gt; <code>componentDidUpdate</code> =&gt; <code>componentWillUnmount</code></p><ol><li><strong>创建阶段：</strong> 旧版本组件构造函数调用完成之后会有<code>componentWillmount</code>方法，新版本省略，新增<code>getDerivedStateFromProps</code>方法（并不常用），且该方法在组件props,state变更时也会被调用</li><li><strong>更新阶段:</strong> 当<code>shouldComponentUpdate</code>返回ture后，会调用rende方法重新渲染组件。在组件更新完成之前有<code>getSnapShotBeforeUpdate</code>方法</li></ol><ul><li><strong><code>componentWillMount</code></strong>(16.9废弃):在渲染之前执行，用于根组件中的 App 级配置。</li><li><strong><code>componentDidMount</code></strong>：在第一次渲染之后执行，可以在这里做AJAX请求，DOM 的操作或状态更新以及设置事件监听器。</li><li><strong><code>componentWillReceiveProps</code></strong>(废弃)：在初始化render的时候不会执行，它会在组件接受到新的状态(Props)时被触发，一般用于父组件状态更新时子组件的重新渲染, <code>getDerivedStateFromProps</code>可替代</li><li><strong><code>getDerivedStateFromProps</code></strong>：会在调用 render 方法之前调用，并且在初始挂载及后续更新时都会被调用。它应返回一个对象来更新 state，如果返回 null 则不更新任何内</li><li><strong><code>shouldComponentUpdate</code></strong>：确定是否更新组件。默认情况下，它返回true。如果确定在 state 或 props 更新后组件不需要在重新渲染，则可以返回false，这是一个提高性能的方法。</li><li><strong><code>componentWillUpdate</code></strong>(废弃)：在shouldComponentUpdate返回 true 确定要更新组件之前件之前执行。</li><li><strong><code>componentDidUpdate</code></strong>：它主要用于更新DOM以响应props或state更改。</li><li><strong><code>componentWillUnmount</code></strong>：创建、 更新、 销毁三个阶段，它用于取消任何的网络请求，或删除与组件关联的所有事件监听</li></ul></div><h3 id="react-父子组建生命周期" tabindex="-1"><a class="header-anchor" href="#react-父子组建生命周期" aria-hidden="true">#</a> React 父子组建生命周期</h3><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// 加载渲染过程</span>
  parent<span class="token operator">-</span>constructor
  parent<span class="token operator">-</span>componentWillMount
  parent<span class="token operator">-</span>render
    child<span class="token operator">-</span>constructor
    child<span class="token operator">-</span>componentWillMount
    child<span class="token operator">-</span>render
    child<span class="token operator">-</span>componentDidMount
  parent<span class="token operator">-</span>componentDidMount
<span class="token comment">// 更新过程</span>
  parent<span class="token operator">-</span>shouldComponentUpdate
  parent<span class="token operator">-</span>componentWillUpdate
  parent<span class="token operator">-</span>render
    child<span class="token operator">-</span>componentWillReceiveProps
    child<span class="token operator">-</span>shouldComponentUpdate
    child<span class="token operator">-</span>render
    child<span class="token operator">-</span>componentDidUpdate
  parent<span class="token operator">-</span>componentDidUpdate
<span class="token comment">// 卸载组件</span>
  parent<span class="token operator">-</span>componentWillUnmount
    child<span class="token operator">-</span>componentWillUnmount
</code></pre></div><h3 id="为什么react中事件绑定的函数内部this默认指向undefined" tabindex="-1"><a class="header-anchor" href="#为什么react中事件绑定的函数内部this默认指向undefined" aria-hidden="true">#</a> 为什么React中事件绑定的函数内部this默认指向undefined</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>函数的作用域是由函数调用的时候决定的，而不是函数声明的时候。第一次调用是作为对象中的函数调用，因此this指向对象本身。而第二次调用是作为普通函数调用，所以this指向全局对象，在严格模式时会指向undefined。</p><p><strong>解决办法：</strong></p><ol><li>使用es6箭头函数，箭头函数this默认指向上一层级的环境 <code>&lt;input onChange={()=&gt;this.change()} /&gt;</code></li><li>使用bind绑定this写在constructor里 <code>this.change = this.change.bind(this)</code>;</li></ol></div><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&#39;Gordanlee&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&#39;Wuyifan&#39;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> getName <span class="token operator">=</span> obj<span class="token punctuation">.</span>getName<span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Wuyifan</span>
<span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Gordanlee</span>

<span class="token keyword">class</span> <span class="token class-name">EventDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">&#39;gordanlee&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 修改方法的 this 指向</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>clickHandler2 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">clickHandler2</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
        推荐面这种写法
    <span class="token punctuation">}</span>
    <span class="token function">clickHandler1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;this....&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// this 默认是 undefined</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">&#39;wuyifan&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 静态方法，this 指向当前实例</span>
    <span class="token function">clickHandler2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 获取 event</span>
    <span class="token function-variable function">clickHandler3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// // this - 使用 bind</span>
        <span class="token keyword">return</span> 
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>clickHandler1<span class="token punctuation">}</span><span class="token operator">&gt;</span>
              <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token comment">// 不建议在标签中写bind, 会导致bind多次执行，建议再头部赋值只绑一次</span>
          <span class="token operator">&lt;</span>p onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">clickHandler2</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
              <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">clickHandler2</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
              <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>clickHandler3<span class="token punctuation">}</span><span class="token operator">&gt;</span>
              <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="浅谈react合成" tabindex="-1"><a class="header-anchor" href="#浅谈react合成" aria-hidden="true">#</a> 浅谈React合成</h3><p><img src="/blog/assets/img/38.ab69e805.jpg" alt="浅谈React合成"></p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p><code>JSX</code>上写的事件并没有绑定在对应的真实 <code>DOM</code> 上，而是通过事件代理的方式，将所有的事件都统一绑定在了 <code>document</code>上。这样的方式不仅减少了内存消耗，还能在组件挂载销毁时统一订阅和移除事件。 （在<code>React17</code>之前，<code>React</code>是把所有事件委托在<code>document</code>上的，<code>React17</code>及以后版本不再把事件委托在<code>document</code>上，而是委托在挂载的容器上了。）</p><ul><li><strong>目的:</strong></li></ul><ol><li>合成事件首先抹平了浏览器之间的兼容问题(如标准事件模型、IE)，另外这是一个跨浏览器原生事件包装器，赋予了跨浏览器开发的能力；</li><li>对于原生浏览器事件来说，浏览器会给监听器创建一个事件对象。如果你有很多的事件监听，那么就需要分配很多的事件对象，造成高额的内存分配问题。但是对于合成事件来说，有一个事件池专门来管理它们的创建和销毁，当事件需要被使用时，就会从池子中复用对象，事件回调结束后，就会销毁事件对象上的属性，从而便于下次复用事件对象</li></ol><ul><li><strong>优点</strong></li></ul><ol><li>兼容所有浏览器，更好的跨平台；</li><li>将事件统一存放在一个数组，避免频繁的新增与删除（垃圾回收）。</li><li>方便 react 统一管理和事务机制</li></ol></div><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// 定义捕获事件</span>
Vue<span class="token operator">:</span> <span class="token operator">&lt;</span>div @click<span class="token punctuation">.</span>capture<span class="token operator">=</span><span class="token string">&quot;handleClick&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
React<span class="token operator">:</span> <span class="token operator">&lt;</span>div onClickCapture<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onClickOuter<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token comment">// react 事件不能采用 return false 的方式来阻止浏览器的默认行为，而必须要地明确地调用preventDefault()来阻止默认行为。</span>
<span class="token comment">// `Event` 是封装组合之后的 `SyntheticBaseEvent`, 模拟出来的DOM事件所有能力。</span>
<span class="token comment">// `event.nativeEvent` 是原生事件对象</span>
<span class="token comment">// React绑定事件，最后都会追加Eevent参数</span>
</code></pre></div><h3 id="react-组件中怎么做事件代理" tabindex="-1"><a class="header-anchor" href="#react-组件中怎么做事件代理" aria-hidden="true">#</a> React 组件中怎么做事件代理</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>React基于Virtual DOM实现了一个SyntheticEvent层（合成事件层），定义的事件处理器会接收到一个合成事件对象的实例，它符合W3C标准，且与原生的浏览器事件拥有同样的接口，支持冒泡机制，所有的事件都自动绑定在最外层上。 在React底层，主要对合成事件做了两件事：</p><ul><li>事件委派： React会把所有的事件绑定到结构的最外层，使用统一的事件监听器，这个事件监听器上维持了一个映射来保存所有组件内部事件监听和处理函数。</li><li>自动绑定： React组件中，每个方法的上下文都会指向该组件的实例，即自动绑定this为当前组件。</li></ul></div><h3 id="setstate" tabindex="-1"><a class="header-anchor" href="#setstate" aria-hidden="true">#</a> setState</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><ol><li>不可变值(为了性能优化,不去触发shouldComponentUpdate)</li><li>可能是异步更新</li></ol><ul><li>异步： 在 React 可以控制的地方，就为 true，比如在 React 生命周期事件和合成事件中，都会走合并操作，延迟更新的策略。</li><li>同步： 在 React 无法控制的地方，比如原生事件，具体就是在 addEventListener 、setTimeout、setInterval 等事件中，就只能同步更新。</li></ul><ol start="3"><li>可能会被合并</li></ol><ul><li><code>setState()</code> 传递对象就会被合并（类似Object.assign），传递函数则不会被合并</li></ul></div><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">StateDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>

        <span class="token comment">// 第一，state 要在构造函数中定义</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
            count<span class="token operator">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>increase<span class="token punctuation">}</span><span class="token operator">&gt;</span>累加<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">increase</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// this.state.count++ // 错误的写法</span>
        <span class="token comment">// setState 一定要用不可变值了</span>
        <span class="token comment">// 只能用setState去修改值，禁止提前修改值，而导致触发shouldComponentUpdate</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            count<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// SCU</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;callback&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 1 异步获取</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token comment">// this.setState 是异步的，如果立刻同步获取是拿不到最新修改的值，需要用setState第二个参数会调函数中获取, 联想 Vue $nextTick - DOM</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;同步获取&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 0 </span>
        <span class="token comment">// 操作数组、对象的的常用形式</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            count<span class="token operator">:</span> <span class="token number">100</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;setTimeout&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 100</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">increase2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// state 异步更新前会被合并</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// setState传入对象,会被合并（类似Object.assign）。执行结构只一次 + 1</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            count<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// 0 + 1</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token comment">// </span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;for&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">increase3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// state 异步更新前会被合并</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// setState传入函数不会被合并，结果为10，函数无法像对象一样被合并，只能被执行</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span>
            count<span class="token operator">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;for&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 0</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;for&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 10</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">bodyClickHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            count<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;count in body event&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 最新的值</span>
    <span class="token punctuation">}</span>
    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 自己定义的 DOM 事件，setState 是同步的</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>bodyClickHandler<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 及时销毁自定义 DOM 事件</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>bodyClickHandler<span class="token punctuation">)</span>
        <span class="token comment">// clearTimeout</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="react-进阶" tabindex="-1"><a class="header-anchor" href="#react-进阶" aria-hidden="true">#</a> React 进阶</h2><h3 id="受控和非受控组" tabindex="-1"><a class="header-anchor" href="#受控和非受控组" aria-hidden="true">#</a> 受控和非受控组</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><ul><li><strong>受控组件：</strong> 控制着输入的过程，<code>react</code>的<code>state</code>为唯一的数据来源，被<code>react.state</code>这样控制着的就是受控组件(相当于实现数据绑定)。</li><li><strong>非受控组件：</strong> 不设置value值(只能设置<code>defaultValue</code>、<code>defaultChecked</code>),通过ref获取dom节点然后再取value值。在html表单中，input select checkbox，来暂存输入值,如果不需要关心控制值是怎么修改更新的，只需要获取这个组件的值，那么这个就是非受控组件。 <strong>非受控组件使用场景：</strong></li></ul><ol><li>必须手动操作DOM元素，<code>setState</code>实现不了。</li><li>文件上传<code>&lt;input type=&quot;file&quot;&gt;</code></li><li>开始或使用某些富文本编辑器、需要传入DOM 元素</li></ol></div><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">&#39;gordanlee&#39;</span><span class="token punctuation">,</span>
            flag<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>nameInputRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 创建 ref</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>fileInputRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// // input defaultValue</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token punctuation">{</span><span class="token comment">/* 使用 defaultValue 而不是 value ，使用 ref */</span><span class="token punctuation">}</span>
            <span class="token operator">&lt;</span>input defaultValue<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span> ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>nameInputRef<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token punctuation">{</span><span class="token comment">/* state 并不会随着改变 */</span><span class="token punctuation">}</span>
            <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>state<span class="token punctuation">.</span>name<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>br<span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>alertName<span class="token punctuation">}</span><span class="token operator">&gt;</span>alert name<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token comment">// // checkbox defaultChecked</span>
        <span class="token comment">// return &lt;div&gt;</span>
        <span class="token comment">//     &lt;input</span>
        <span class="token comment">//         type=&quot;checkbox&quot;</span>
        <span class="token comment">//         defaultChecked={this.state.flag}</span>
        <span class="token comment">//     /&gt;</span>
        <span class="token comment">// &lt;/div&gt;</span>
        <span class="token comment">// file</span>
        <span class="token comment">// return &lt;div&gt;</span>
        <span class="token comment">//     &lt;input type=&quot;file&quot; ref={this.fileInputRef}/&gt;</span>
        <span class="token comment">//     &lt;button onClick={this.alertFile}&gt;alert file&lt;/button&gt;</span>
        <span class="token comment">// &lt;/div&gt;</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">alertName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nameInputRef<span class="token punctuation">.</span>current <span class="token comment">// 通过 ref 获取 DOM 节点</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>elem<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// 不是 this.state.name</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">alertFile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fileInputRef<span class="token punctuation">.</span>current <span class="token comment">// 通过 ref 获取 DOM 节点</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>elem<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="类组件和函数组件之间的区别" tabindex="-1"><a class="header-anchor" href="#类组件和函数组件之间的区别" aria-hidden="true">#</a> 类组件和函数组件之间的区别</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><ul><li>类组件: 可以使用其他特性，如状态 state 和生命周期钩子。</li><li>函数组件: 当组件只是接收 props 渲染到页面时，就是无状态组件，就属于函数组件，也被称为哑组件或展示组件</li></ul><ol><li>函数组件的性能比类组件的性能要高，因为类组件使用的时候要实例化，而函数组件直接执行函数取返回结果即可,为了提高性能，尽量使用函数组</li><li>函数组件无实例、无<code>this</code>、无状态state,无生命周期不能扩展其他方法。</li><li>函数组件获取的总是事件发生的时候的值，即使值在事件发生后已经更新了,而类组件获取的总是最新的值。</li></ol></div><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">//函数组件传参</span>
<span class="token keyword">function</span> <span class="token function">CounterFunction</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> count <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">showAlert</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token string">&#39;--from Function&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>You clicked <span class="token punctuation">{</span>count<span class="token punctuation">}</span> times<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>showAlert<span class="token punctuation">}</span><span class="token operator">&gt;</span>Show count<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//类组件</span>
<span class="token keyword">class</span> <span class="token class-name">CounterClass</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">showAlert</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token string">&#39;--from Class&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>He clicked <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>count<span class="token punctuation">}</span> times<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">showAlert</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                  Show count
                <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    state <span class="token operator">=</span> <span class="token punctuation">{</span>
        count <span class="token operator">:</span> <span class="token number">123</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;App&quot;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>count<span class="token operator">:</span> <span class="token number">456</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>CounterFunction count<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>CounterClass count<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 当你两次调用的时候，你就会发现他们的页面渲染是相同的，count值都会变成456，但是，alert出来的值可就不一样了。</span>
<span class="token comment">// Function的是123，Class的是456。所以当showAlert事件发生的时候，Function取的是发生前的值，是触发事件前的值，就像处对象，哪怕分手后，双方立刻找到了新对象，但仍然记得当初的美好</span>
</code></pre></div><h3 id="portals-传送门" tabindex="-1"><a class="header-anchor" href="#portals-传送门" aria-hidden="true">#</a> Portals(传送门)</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>组件默认会按照既定层次嵌套渲染，Portal可以将React节点渲染到指定节点(如Dialog、Tooltip),vue2.x需要用<code>v-transfer-dom</code>,Vue3.0x可以用<code>Teleport</code></p></div><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/Gordan404/blog/edit/master/docs/interview/react.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页"><!--[--><!--]--> 编辑此页 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">最后更新时间: </span><span class="meta-item-info">2021-11-9 9:33:29 ├F10: PM┤</span></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: vae.china@foxmail.com">lishuaixingNewBee</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main></div><!----><!--]--></div>
    <script src="/blog/assets/js/runtime~app.4c3bfb7f.js" defer></script><script src="/blog/assets/js/9177.76fd6710.js" defer></script><script src="/blog/assets/js/app.72cb2feb.js" defer></script>
  </body>
</html>
