(self.webpackChunkvuepress_starter=self.webpackChunkvuepress_starter||[]).push([[4387],{8860:(n,s,a)=>{"use strict";a.r(s),a.d(s,{data:()=>t});const t={key:"v-e0682506",path:"/webpack/webpack/core.html",title:"Webpack核心",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"使用WebpackPlugin",slug:"使用webpackplugin",children:[]},{level:2,title:"Entry和Output的基础配置",slug:"entry和output的基础配置",children:[{level:3,title:"多个入口文件",slug:"多个入口文件",children:[]},{level:3,title:"CDN引用",slug:"cdn引用",children:[]}]},{level:2,title:"配置SourceMap",slug:"配置sourcemap",children:[]},{level:2,title:"使用WebpackDevServer",slug:"使用webpackdevserver",children:[]},{level:2,title:"模块热更新(HMR)",slug:"模块热更新-hmr",children:[]},{level:2,title:"处理ES6语法",slug:"处理es6语法",children:[]}],filePathRelative:"webpack/webpack/core.md",git:{updatedTime:1626959386e3,contributors:[{name:"jun6.li",email:"jun6.li@ly.com",commits:1}]}}},5919:(n,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>Ts});var t=a(4057);const o=a.p+"assets/img/16.1cd7b397.png",e=a.p+"assets/img/17.3b3d4938.png",c=a.p+"assets/img/251.b6b8e0f8.png",l=a.p+"assets/img/261.9d4f7438.png",p=a.p+"assets/img/281.4753bc6e.png",k=(0,t.Wm)("h1",{id:"webpack核心",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#webpack核心","aria-hidden":"true"},"#"),(0,t.Uk)(" Webpack核心")],-1),m=(0,t.Wm)("h2",{id:"使用webpackplugin",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#使用webpackplugin","aria-hidden":"true"},"#"),(0,t.Uk)(" 使用WebpackPlugin")],-1),u=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"理解"),(0,t.Wm)("p",null,[(0,t.Wm)("code",null,"plugin"),(0,t.Uk)("的理解是：当 Webpack 运行到某一个阶段时，可以使用"),(0,t.Wm)("code",null,"plugin"),(0,t.Uk)("来帮我们做一些事情。")])],-1),W=(0,t.Wm)("p",null,[(0,t.Uk)("在使用"),(0,t.Wm)("code",null,"plugin"),(0,t.Uk)("之前，我们先来改造一下我们的代码，首先删掉无用的文件，随后在根目录下新建一个"),(0,t.Wm)("code",null,"src"),(0,t.Uk)("文件夹，并把"),(0,t.Wm)("code",null,"index.js"),(0,t.Uk)("移动到"),(0,t.Wm)("code",null,"src"),(0,t.Uk)("文件夹下，移动后你的目录看起来应该是下面这样子的")],-1),i=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Wm)("span",{class:"token operator"},"--"),(0,t.Uk)(" dist\n"),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Uk)("   "),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Wm)("span",{class:"token operator"},"--"),(0,t.Uk)(" index"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("html\n"),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Wm)("span",{class:"token operator"},"--"),(0,t.Uk)(" src\n"),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Uk)("   "),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Wm)("span",{class:"token operator"},"--"),(0,t.Uk)(" index"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("js\n"),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Wm)("span",{class:"token operator"},"--"),(0,t.Uk)(" postcss"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("config"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("js\n"),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Wm)("span",{class:"token operator"},"--"),(0,t.Uk)(" webpack"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("config"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("js\n"),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Wm)("span",{class:"token operator"},"--"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"package"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("json\n")])])],-1),r=(0,t.Wm)("p",null,[(0,t.Uk)("接下来再来处理一下"),(0,t.Wm)("code",null,"index.js"),(0,t.Uk)("文件的代码，写成下面这样")],-1),U=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token comment"},"// src/index.js"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token keyword"},"var"),(0,t.Uk)(" root "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(" document"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"getElementById"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'root'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token keyword"},"var"),(0,t.Uk)(" dom "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(" document"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"createElement"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'div'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\ndom"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("innerHTML "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'hello,world'"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\nroot"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"appendChild"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("dom"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n")])])],-1),d=(0,t.Wm)("p",null,[(0,t.Uk)("最后我们来处理一下我们的"),(0,t.Wm)("code",null,"webpack.config.js"),(0,t.Uk)("文件，它的改动有下面这些")],-1),g=(0,t.Wm)("ul",null,[(0,t.Wm)("li",null,[(0,t.Uk)("因为"),(0,t.Wm)("code",null,"index.js"),(0,t.Uk)("文件的位置变动了，我们需要改动一下"),(0,t.Wm)("code",null,"entry")]),(0,t.Wm)("li",null,[(0,t.Uk)("删除掉我们配置的所有"),(0,t.Wm)("code",null,"loader"),(0,t.Uk)("规则 按照上面的改动后，"),(0,t.Wm)("code",null,"webpack.config.js"),(0,t.Uk)("中的代码看起来是下面这样的")])],-1),b=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token keyword"},"const"),(0,t.Uk)(" path "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"require"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'path'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\nmodule"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("exports "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  mode"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'development'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  entry"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    main"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'./src/index.js'"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  output"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    filename"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'main.js'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    path"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(" path"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"resolve"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("__dirname"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Wm)("span",{class:"token string"},"'dist'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])])],-1),h=(0,t.Wm)("h4",{id:"html-webpack-plugin",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#html-webpack-plugin","aria-hidden":"true"},"#"),(0,t.Uk)(" html-webpack-plugin")],-1),v=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"说明"),(0,t.Wm)("p",null,[(0,t.Wm)("code",null,"html-webpack-plugin"),(0,t.Uk)("可以让我们使用固定的模板，在每次打包的时候 "),(0,t.Wm)("strong",null,"自动生成"),(0,t.Uk)(" 一个"),(0,t.Wm)("code",null,"index.html"),(0,t.Uk)("文件，并且它会 "),(0,t.Wm)("strong",null,"自动"),(0,t.Uk)(" 帮我们引入我们打包后的"),(0,t.Wm)("code",null,".js"),(0,t.Uk)("文件")])],-1),j=(0,t.Wm)("p",null,[(0,t.Uk)("使用如下命令安装"),(0,t.Wm)("code",null,"html-webpack-plugin")],-1),w=(0,t.Wm)("div",{class:"language-bash ext-sh"},[(0,t.Wm)("pre",{class:"language-bash"},[(0,t.Wm)("code",null,[(0,t.Uk)("$ "),(0,t.Wm)("span",{class:"token function"},"npm"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"install"),(0,t.Uk)(" html-webpack-plugin -D\n")])])],-1),f=(0,t.Wm)("p",null,[(0,t.Uk)("在"),(0,t.Wm)("code",null,"src"),(0,t.Uk)("目录下创建"),(0,t.Wm)("code",null,"index.html"),(0,t.Uk)("模板文件，它的代码可以写成下面这样子")],-1),x=(0,t.Wm)("div",{class:"language-html ext-html"},[(0,t.Wm)("pre",{class:"language-html"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token doctype"},[(0,t.Wm)("span",{class:"token punctuation"},"<!"),(0,t.Wm)("span",{class:"token doctype-tag"},"DOCTYPE"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token name"},"html"),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("html")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"lang"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("en"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("head")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("meta")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"charset"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("UTF-8"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("meta")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"name"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("viewport"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"content"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("width=device-width, initial-scale=1.0"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("meta")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"http-equiv"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("X-UA-Compatible"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"content"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("ie=edge"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("title")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("Html 模板"),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"</"),(0,t.Uk)("title")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"</"),(0,t.Uk)("head")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("body")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("div")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"id"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("root"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"</"),(0,t.Uk)("div")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"</"),(0,t.Uk)("body")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"</"),(0,t.Uk)("html")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n")])])],-1),y=(0,t.Wm)("p",null,[(0,t.Uk)("因为我们要使用"),(0,t.Wm)("code",null,"html-webpack-plugin"),(0,t.Uk)("插件，所以我们需要再次改写"),(0,t.Wm)("code",null,"webpack.config.js"),(0,t.Uk)("文件(具体改动部分见高亮部分)")],-1),S=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token keyword"},"const"),(0,t.Uk)(" path "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"require"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'path'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token keyword"},"const"),(0,t.Uk)(" HtmlWebpackPlugin "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"require"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'html-webpack-plugin'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\nmodule"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("exports "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  mode"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'development'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  entry"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    main"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'./src/index.js'"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  plugins"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"["),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token keyword"},"new"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token class-name"},"HtmlWebpackPlugin"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      template"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'src/index.html'"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"]"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  output"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    filename"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'main.js'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    path"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(" path"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"resolve"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("__dirname"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Wm)("span",{class:"token string"},"'dist'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t.Wm)("div",{class:"highlight-lines"},[(0,t.Wm)("br"),(0,t.Wm)("div",{class:"highlight-line"}," "),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("div",{class:"highlight-line"}," "),(0,t.Wm)("div",{class:"highlight-line"}," "),(0,t.Wm)("div",{class:"highlight-line"}," "),(0,t.Wm)("div",{class:"highlight-line"}," "),(0,t.Wm)("div",{class:"highlight-line"}," "),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br")])],-1),q=(0,t.Wm)("p",null,[(0,t.Uk)("在完成上面的配置后，我们使用"),(0,t.Wm)("code",null,"npm run bundle"),(0,t.Uk)("命令来打包一下测试一下，在打包完毕后，我们能在"),(0,t.Wm)("code",null,"dist"),(0,t.Uk)("目录下面，看到"),(0,t.Wm)("code",null,"index.html"),(0,t.Uk)("中的代码变成下面这样子")],-1),C=(0,t.Wm)("div",{class:"language-html ext-html"},[(0,t.Wm)("pre",{class:"language-html"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token doctype"},[(0,t.Wm)("span",{class:"token punctuation"},"<!"),(0,t.Wm)("span",{class:"token doctype-tag"},"DOCTYPE"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token name"},"html"),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("html")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"lang"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("en"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("head")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("meta")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"charset"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("UTF-8"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("meta")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"name"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("viewport"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"content"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("width=device-width, initial-scale=1.0"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("meta")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"http-equiv"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("X-UA-Compatible"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"content"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("ie=edge"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("title")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("HTML模板"),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"</"),(0,t.Uk)("title")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"</"),(0,t.Uk)("head")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("body")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("div")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"id"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("root"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"</"),(0,t.Uk)("div")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("script")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"type"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("text/javascript"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"src"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("main.js"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Wm)("span",{class:"token script"}),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"</"),(0,t.Uk)("script")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"</"),(0,t.Uk)("body")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"</"),(0,t.Uk)("html")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n")])])],-1),E=(0,t.Wm)("p",null,[(0,t.Uk)("我们发现，以上"),(0,t.Wm)("code",null,"index.html"),(0,t.Uk)("的结构，正是我们在"),(0,t.Wm)("code",null,"src"),(0,t.Uk)("目录下"),(0,t.Wm)("code",null,"index.html"),(0,t.Uk)("模板的结构，并且还能发现，在打包完成后，还自动帮我们引入了打包输出的"),(0,t.Wm)("code",null,".js"),(0,t.Uk)("文件，这正是"),(0,t.Wm)("code",null,"html-webpack-plugin"),(0,t.Uk)("的基本功能，当然它还有其它更多的功能，我们将在后面进行详细的说明。")],-1),H=(0,t.Wm)("h4",{id:"clean-webpack-plugin",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#clean-webpack-plugin","aria-hidden":"true"},"#"),(0,t.Uk)(" clean-webpack-plugin")],-1),M=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"理解"),(0,t.Wm)("p",null,[(0,t.Wm)("code",null,"clean-webpack-plugin"),(0,t.Uk)("的理解是：它能帮我们在打包之前 "),(0,t.Wm)("strong",null,"自动删除"),(0,t.Uk)(),(0,t.Wm)("code",null,"dist"),(0,t.Uk)("打包目录及其目录下所有文件，不用我们手动进行删除。")])],-1),P=(0,t.Wm)("p",null,[(0,t.Uk)("我们使用如下命令来安装"),(0,t.Wm)("code",null,"clean-webpack-plugin")],-1),_=(0,t.Wm)("div",{class:"language-bash ext-sh"},[(0,t.Wm)("pre",{class:"language-bash"},[(0,t.Wm)("code",null,[(0,t.Uk)("$ "),(0,t.Wm)("span",{class:"token function"},"npm"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"install"),(0,t.Uk)(" clean-webpack-plugin -D\n")])])],-1),T=(0,t.Wm)("p",null,[(0,t.Uk)("安装完毕以后，我们同样需要在"),(0,t.Wm)("code",null,"webpack.config.js"),(0,t.Uk)("中进行配置(改动部分参考高亮代码块)")],-1),D=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token keyword"},"const"),(0,t.Uk)(" path "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"require"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'path'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token keyword"},"const"),(0,t.Uk)(" HtmlWebpackPlugin "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"require"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'html-webpack-plugin'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token keyword"},"const"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" CleanWebpackPlugin "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"require"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'clean-webpack-plugin'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\nmodule"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("exports "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  mode"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'development'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  entry"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    main"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'./src/index.js'"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  plugins"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"["),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token keyword"},"new"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token class-name"},"HtmlWebpackPlugin"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      template"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'src/index.html'"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token keyword"},"new"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token class-name"},"CleanWebpackPlugin"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"]"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  output"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    filename"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'main.js'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    path"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(" path"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"resolve"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("__dirname"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Wm)("span",{class:"token string"},"'dist'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t.Wm)("div",{class:"highlight-lines"},[(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("div",{class:"highlight-line"}," "),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("div",{class:"highlight-line"}," "),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br")])],-1),L=(0,t.Wm)("p",null,[(0,t.Uk)("在完成以上配置后，我们使用"),(0,t.Wm)("code",null,"npm run bundle"),(0,t.Uk)("打包命令进行打包，它的打包结果请自行在你的项目下观看自动清理"),(0,t.Wm)("code",null,"dist"),(0,t.Uk)("目录的实时效果。"),(0,t.Wm)("br")],-1),R=(0,t.Uk)("在使用"),$=(0,t.Wm)("code",null,"WebpackPlugin",-1),B=(0,t.Uk)("小节，我们只介绍了两种常用的"),N=(0,t.Wm)("code",null,"plugin",-1),O=(0,t.Uk)("，更多"),A=(0,t.Wm)("code",null,"plugin",-1),I=(0,t.Uk)("的用法我们将在后续进行学习，你也可以点击"),Y={href:"https://webpack.js.org/plugins",target:"_blank",rel:"noopener noreferrer"},F=(0,t.Uk)("Webpack Plugins"),X=(0,t.Uk)("来学习更多官网推荐的"),z=(0,t.Wm)("code",null,"plugin",-1),K=(0,t.Uk)("用法。"),G=(0,t.Wm)("h2",{id:"entry和output的基础配置",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#entry和output的基础配置","aria-hidden":"true"},"#"),(0,t.Uk)(" Entry和Output的基础配置")],-1),J=(0,t.Wm)("h3",{id:"多个入口文件",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#多个入口文件","aria-hidden":"true"},"#"),(0,t.Uk)(" 多个入口文件")],-1),Q=(0,t.Wm)("p",null,[(0,t.Uk)("在我们之前的所有"),(0,t.Wm)("code",null,"entry"),(0,t.Uk)("配置中，仅仅只有一个入口文件，假设现在我们有这样一个需求：需要把"),(0,t.Wm)("code",null,"index.js"),(0,t.Uk)("打包两遍，一个叫"),(0,t.Wm)("code",null,"main.js"),(0,t.Uk)("，另外一个叫"),(0,t.Wm)("code",null,"sub.js"),(0,t.Uk)("，那么我们应该在"),(0,t.Wm)("code",null,"entry"),(0,t.Uk)("进行如下的配置：")],-1),V=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token keyword"},"const"),(0,t.Uk)(" path "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"require"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'path'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\nmodule"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("exports "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  mode"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'development'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  entry"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    main"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'./src/index.js'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    sub"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'./src/index.js'"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  output"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    filename"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'main.js'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    path"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(" path"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"resolve"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("__dirname"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Wm)("span",{class:"token string"},"'dist'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t.Wm)("div",{class:"highlight-lines"},[(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("div",{class:"highlight-line"}," "),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br")])],-1),Z=(0,t.Wm)("p",null,[(0,t.Wm)("strong",null,"注意"),(0,t.Uk)("：如果我们仅仅只是调整了"),(0,t.Wm)("code",null,"entry"),(0,t.Uk)("配置，没有进行"),(0,t.Wm)("code",null,"output"),(0,t.Uk)("配置修改的话，则会打包错误。原因是"),(0,t.Wm)("code",null,"output"),(0,t.Uk)("打包后的文件都叫"),(0,t.Wm)("code",null,"main.js"),(0,t.Uk)("，但我们"),(0,t.Wm)("code",null,"entry"),(0,t.Uk)("却有两个入口文件，因此会造成错误，所以我们同样需要对"),(0,t.Wm)("code",null,"output"),(0,t.Uk)("配置进行修改：")],-1),nn=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token keyword"},"const"),(0,t.Uk)(" path "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"require"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'path'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\nmodule"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("exports "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  mode"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'development'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  entry"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    main"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'./src/index.js'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    sub"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'./src/index.js'"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  output"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token comment"},"// 使用[name]占位符，打包结果为main.js，sub.js"),(0,t.Uk)("\n    filename"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'[name].js'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    path"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(" path"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"resolve"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("__dirname"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Wm)("span",{class:"token string"},"'dist'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t.Wm)("div",{class:"highlight-lines"},[(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("div",{class:"highlight-line"}," "),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br")])],-1),sn=(0,t.Wm)("p",null,[(0,t.Uk)("进行如上配置后，"),(0,t.Wm)("code",null,"dist/index.html"),(0,t.Uk)("文件中"),(0,t.Wm)("code",null,"js"),(0,t.Uk)("的引用如下：")],-1),an=(0,t.Wm)("div",{class:"language-html ext-html"},[(0,t.Wm)("pre",{class:"language-html"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("script")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"type"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("text/javascript"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"src"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("main.js"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Wm)("span",{class:"token script"}),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"</"),(0,t.Uk)("script")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("script")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"type"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("text/javascript"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"src"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("sub.js"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Wm)("span",{class:"token script"}),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"</"),(0,t.Uk)("script")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n")])])],-1),tn=(0,t.Wm)("h3",{id:"cdn引用",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#cdn引用","aria-hidden":"true"},"#"),(0,t.Uk)(" CDN引用")],-1),on=(0,t.Wm)("p",null,[(0,t.Uk)("在打包后，把静态资源发布到"),(0,t.Wm)("code",null,"CDN"),(0,t.Uk)("是一种常见的提高网页性能的手段，正如你在上面所看到的的那样，我们现在的打包方式并不能实现"),(0,t.Wm)("code",null,"CDN"),(0,t.Uk)("引用，需要我们进行如下的配置：")],-1),en=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token keyword"},"const"),(0,t.Uk)(" path "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"require"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'path'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\nmodule"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("exports "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  mode"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'development'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  entry"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    main"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'./src/index.js'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    sub"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'./src/index.js'"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  output"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token comment"},"// 假设一个CDN地址"),(0,t.Uk)("\n    publicPath"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'www.cdn.com/wangtunan'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token comment"},"// 使用[name]占位符，打包结果为main.js，sub.js"),(0,t.Uk)("\n    filename"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'[name].js'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    path"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(" path"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"resolve"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("__dirname"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Wm)("span",{class:"token string"},"'dist'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])])],-1),cn=(0,t.Wm)("p",null,[(0,t.Uk)("在上面的配置完毕，我们打包后"),(0,t.Wm)("code",null,"dist/index.html"),(0,t.Uk)("的"),(0,t.Wm)("code",null,"js"),(0,t.Uk)("引用效果如下：")],-1),ln=(0,t.Wm)("div",{class:"language-html ext-html"},[(0,t.Wm)("pre",{class:"language-html"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("script")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"type"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("text/javascript"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"src"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("www.cdn.com/wangtunan/main.js"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Wm)("span",{class:"token script"}),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"</"),(0,t.Uk)("script")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"<"),(0,t.Uk)("script")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"type"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("text/javascript"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token attr-name"},"src"),(0,t.Wm)("span",{class:"token attr-value"},[(0,t.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,t.Wm)("span",{class:"token punctuation"},'"'),(0,t.Uk)("www.cdn.com/wangtunan/sub.js"),(0,t.Wm)("span",{class:"token punctuation"},'"')]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Wm)("span",{class:"token script"}),(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token tag"},[(0,t.Wm)("span",{class:"token punctuation"},"</"),(0,t.Uk)("script")]),(0,t.Wm)("span",{class:"token punctuation"},">")]),(0,t.Uk)("\n")])])],-1),pn=(0,t.Wm)("h2",{id:"配置sourcemap",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#配置sourcemap","aria-hidden":"true"},"#"),(0,t.Uk)(" 配置SourceMap")],-1),kn=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"理解"),(0,t.Wm)("p",null,[(0,t.Wm)("code",null,"source-map"),(0,t.Uk)("的理解：它是一种映射关系，它映射了打包后的代码和源代码之间的对应关系，一般通过"),(0,t.Wm)("code",null,"devtool"),(0,t.Uk)("来配置。")])],-1),mn=(0,t.Wm)("p",null,[(0,t.Uk)("以下是官方提供的"),(0,t.Wm)("code",null,"devtool"),(0,t.Uk)("各个属性的解释以及打包速度对比图：")],-1),un=(0,t.Wm)("p",null,[(0,t.Wm)("img",{src:o,alt:"devtool"})],-1),Wn=(0,t.Wm)("p",null,[(0,t.Uk)("通过上图我们可以看出，良好的"),(0,t.Wm)("code",null,"source-map"),(0,t.Uk)("配置不仅能帮助我们提高打包速度，同时在代码维护和调错方面也能有很大的帮助，一般来说，"),(0,t.Wm)("code",null,"source-map"),(0,t.Uk)("的最佳实践是下面这样的：")],-1),rn=(0,t.Wm)("ul",null,[(0,t.Wm)("li",null,[(0,t.Uk)("开发环境下"),(0,t.Wm)("code",null,"development"),(0,t.Uk)("：推荐将"),(0,t.Wm)("code",null,"devtool"),(0,t.Uk)("设置成"),(0,t.Wm)("code",null,"cheap-module-eval-source-map")]),(0,t.Wm)("li",null,[(0,t.Uk)("生产环境下"),(0,t.Wm)("code",null,"production"),(0,t.Uk)("：推荐将"),(0,t.Wm)("code",null,"devtool"),(0,t.Uk)("设置成"),(0,t.Wm)("code",null,"cheap-module-source-map")])],-1),Un=(0,t.Wm)("h2",{id:"使用webpackdevserver",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#使用webpackdevserver","aria-hidden":"true"},"#"),(0,t.Uk)(" 使用WebpackDevServer")],-1),dn=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"理解"),(0,t.Wm)("p",null,[(0,t.Wm)("code",null,"webpack-dev-server"),(0,t.Uk)("的理解：它能帮助我们在源代码更改的情况下，"),(0,t.Wm)("strong",null,"自动"),(0,t.Uk)(" 帮我们打包我们的代码并 "),(0,t.Wm)("strong",null,"启动"),(0,t.Uk)(" 一个小型的服务器。如果与热更新一起使用，它能帮助我们高效的开发。")])],-1),gn=(0,t.Wm)("p",null,"自动打包的方案，通常来说有如下几种：",-1),bn=(0,t.Wm)("ul",null,[(0,t.Wm)("li",null,[(0,t.Wm)("code",null,"watch"),(0,t.Uk)("参数自动打包：它是在打包命令后面跟了一个"),(0,t.Wm)("code",null,"--watch"),(0,t.Uk)("参数，它虽然能帮我们自动打包，但我们任然需要手动刷新浏览器，同时它不能帮我们在本地启动一个小型服务器，一些"),(0,t.Wm)("code",null,"http"),(0,t.Uk)("请求不能通过。")]),(0,t.Wm)("li",null,[(0,t.Wm)("code",null,"webpack-dev-server"),(0,t.Uk)("插件打包(推荐)：它是我们推荐的一种自动打包方案，在开发环境下使用尤其能帮我们高效的开发，它能解决"),(0,t.Wm)("code",null,"watch"),(0,t.Uk)("参数打包中的问题，如果我们与热更新"),(0,t.Wm)("code",null,"HMR"),(0,t.Uk)("一起使用，我们将拥有非常良好的开发体验。")])],-1),hn=(0,t.Wm)("h4",{id:"watch参数自动打包",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#watch参数自动打包","aria-hidden":"true"},"#"),(0,t.Uk)(" watch参数自动打包")],-1),vn=(0,t.Wm)("p",null,[(0,t.Uk)("使用"),(0,t.Wm)("code",null,"watch"),(0,t.Uk)("参数进行打包，我们需要在"),(0,t.Wm)("code",null,"package.json"),(0,t.Uk)("中新增一个"),(0,t.Wm)("code",null,"watch"),(0,t.Uk)("打包命令，它的配置如下")],-1),jn=(0,t.Wm)("div",{class:"language-json ext-json"},[(0,t.Wm)("pre",{class:"language-json"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token comment"},"// 其它配置"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token property"},'"scripts"'),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token property"},'"bundle"'),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},'"webpack"'),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token property"},'"watch"'),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},'"webpack --watch"'),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t.Wm)("div",{class:"highlight-lines"},[(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("div",{class:"highlight-line"}," "),(0,t.Wm)("br"),(0,t.Wm)("br")])],-1),wn=(0,t.Wm)("p",null,[(0,t.Uk)("在配置好上面的打包命令后，我们使用"),(0,t.Wm)("code",null,"npm run watch"),(0,t.Uk)("命令进行打包，然后在浏览器中运行"),(0,t.Wm)("code",null,"dist"),(0,t.Uk)("目录下的"),(0,t.Wm)("code",null,"index.html"),(0,t.Uk)("，运行后，我们尝试修改"),(0,t.Wm)("code",null,"src/index.js"),(0,t.Uk)("中的代码，例如把"),(0,t.Wm)("code",null,"hello,world"),(0,t.Uk)("改成"),(0,t.Wm)("code",null,"hello,dell-lee"),(0,t.Uk)("，改动完毕后，我们刷新一下浏览器，会发现浏览器成功输出"),(0,t.Wm)("code",null,"hello,dell-lee"),(0,t.Uk)("，这也证明了"),(0,t.Wm)("code",null,"watch"),(0,t.Uk)("参数确实能自动帮我们进行打包。")],-1),fn=(0,t.Wm)("h4",{id:"webpack-dev-server打包",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#webpack-dev-server打包","aria-hidden":"true"},"#"),(0,t.Uk)(" webpack-dev-server打包")],-1),xn=(0,t.Wm)("p",null,[(0,t.Uk)("要使用"),(0,t.Wm)("code",null,"webpack-dev-server"),(0,t.Uk)("，我们需要使用如下命令进行安装")],-1),yn=(0,t.Wm)("div",{class:"language-bash ext-sh"},[(0,t.Wm)("pre",{class:"language-bash"},[(0,t.Wm)("code",null,[(0,t.Uk)("$ "),(0,t.Wm)("span",{class:"token function"},"npm"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"install"),(0,t.Uk)(" webpack-dev-server -D\n")])])],-1),Sn=(0,t.Wm)("p",null,[(0,t.Uk)("安装完毕后，我们和"),(0,t.Wm)("code",null,"watch"),(0,t.Uk)("参数配置打包命令一样，也需要新增一个打包命令，在"),(0,t.Wm)("code",null,"package.json"),(0,t.Uk)("中做如下改动：")],-1),qn=(0,t.Wm)("div",{class:"language-json ext-json"},[(0,t.Wm)("pre",{class:"language-json"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token comment"},"// 其它配置"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token property"},'"scripts"'),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token property"},'"bundle"'),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},'"webpack"'),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token property"},'"watch"'),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},'"webpack --watch"'),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token property"},'"dev"'),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},'"webpack-dev-server"'),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t.Wm)("div",{class:"highlight-lines"},[(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("div",{class:"highlight-line"}," "),(0,t.Wm)("br")])],-1),Cn=(0,t.Wm)("p",null,[(0,t.Uk)("配置完打包命令后，我们最后需要对"),(0,t.Wm)("code",null,"webpack.config.js"),(0,t.Uk)("做一下处理：")],-1),En=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Uk)("module"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("exports "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token comment"},"// 其它配置"),(0,t.Uk)("\n  devServer"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token comment"},"// 以dist为基础启动一个服务器，服务器运行在4200端口上，每次启动时自动打开浏览器"),(0,t.Uk)("\n    contentBase"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'dist'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    open"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token boolean"},"true"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    port"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"4200"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])])],-1),Hn=(0,t.Wm)("p",null,[(0,t.Uk)("在以上都配置完毕后，我们使用"),(0,t.Wm)("code",null,"npm run dev"),(0,t.Uk)("命令进行打包，它会自动帮我们打开浏览器，现在你可以在"),(0,t.Wm)("code",null,"src/index.js"),(0,t.Uk)("修改代码，再在浏览器中查看效果，它会有惊喜的哦，ღ( ´･ᴗ･` )比心"),(0,t.Wm)("br")],-1),Mn=(0,t.Wm)("p",null,"这一小节主要介绍了如何让工具自动帮我们打包，下一节我们将学习模块热更新(HMR)。",-1),Pn=(0,t.Wm)("h2",{id:"模块热更新-hmr",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#模块热更新-hmr","aria-hidden":"true"},"#"),(0,t.Uk)(" 模块热更新(HMR)")],-1),_n=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"理解"),(0,t.Wm)("p",null,"模块热更新(HMR)的理解：它能够让我们在不刷新浏览器(或自动刷新)的前提下，在运行时帮我们更新最新的代码。")],-1),Tn=(0,t.Wm)("p",null,[(0,t.Uk)("模块热更新(HMR)已内置到 Webpack ,我们只需要在"),(0,t.Wm)("code",null,"webpack.config.js"),(0,t.Uk)("中像下面这样简单的配置即可，无需安装别的东西。")],-1),Dn=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token keyword"},"const"),(0,t.Uk)(" webpack "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"require"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'webpack'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\nmodule"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("exports "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token comment"},"// 其它配置"),(0,t.Uk)("\n  devServer"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    contentBase"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'dist'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    open"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token boolean"},"true"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    port"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"3000"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    hot"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token boolean"},"true"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("    "),(0,t.Wm)("span",{class:"token comment"},"// 启用模块热更新"),(0,t.Uk)("\n    hotOnly"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token boolean"},"true"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// 模块热更新启动失败时，不重新刷新浏览器"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  plugins"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"["),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token comment"},"// 其它插件"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token keyword"},"new"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token class-name"},[(0,t.Uk)("webpack"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("HotModuleReplacementPlugin")]),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t.Wm)("div",{class:"highlight-lines"},[(0,t.Wm)("div",{class:"highlight-line"}," "),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("div",{class:"highlight-line"}," "),(0,t.Wm)("div",{class:"highlight-line"}," "),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("div",{class:"highlight-line"}," "),(0,t.Wm)("br"),(0,t.Wm)("br")])],-1),Ln=(0,t.Wm)("p",null,[(0,t.Uk)("在模块热更新(HMR)配置完毕后，我们现在来想一下，什么样的代码是我们希望能够热更新的，我们发现大多数情况下，我们似乎只需要关心两部分内容："),(0,t.Wm)("code",null,"CSS"),(0,t.Uk)("文件和"),(0,t.Wm)("code",null,".js"),(0,t.Uk)("文件，根据这两部分，我们将分别来进行介绍。")],-1),Rn=(0,t.Wm)("h4",{id:"css中的模块热更新",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#css中的模块热更新","aria-hidden":"true"},"#"),(0,t.Uk)(" CSS中的模块热更新")],-1),$n=(0,t.Wm)("p",null,[(0,t.Uk)("首先我们在"),(0,t.Wm)("code",null,"src"),(0,t.Uk)("目录下新建一个"),(0,t.Wm)("code",null,"style.css"),(0,t.Uk)("样式文件，它的代码可以这样下：")],-1),Bn=(0,t.Wm)("div",{class:"language-css ext-css"},[(0,t.Wm)("pre",{class:"language-css"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token selector"},"div:nth-of-type(odd)"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token property"},"background-color"),(0,t.Wm)("span",{class:"token punctuation"},":"),(0,t.Uk)(" yellow"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])])],-1),Nn=(0,t.Wm)("p",null,[(0,t.Uk)("随后我们改写一下"),(0,t.Wm)("code",null,"src"),(0,t.Uk)("目录下的"),(0,t.Wm)("code",null,"index.js"),(0,t.Uk)("中的代码，像下面这样子：")],-1),On=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'./style.css'"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n\n"),(0,t.Wm)("span",{class:"token keyword"},"var"),(0,t.Uk)(" btn "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(" document"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"createElement"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'button'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\nbtn"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("innerHTML "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'新增'"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\ndocument"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("body"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"appendChild"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("btn"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n\nbtn"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function-variable function"},"onclick"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"function"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token keyword"},"var"),(0,t.Uk)(" dom "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(" document"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"createElement"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'div'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n  dom"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("innerHTML "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'item'"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n  document"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("body"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"appendChild"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("dom"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])])],-1),An=(0,t.Wm)("p",null,[(0,t.Uk)("由于我们需要处理"),(0,t.Wm)("code",null,"CSS"),(0,t.Uk)("文件，所以我们需要保留处理"),(0,t.Wm)("code",null,"CSS"),(0,t.Uk)("文件的"),(0,t.Wm)("code",null,"loader"),(0,t.Uk)("规则，像下面这样")],-1),In=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Uk)("module"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("exports "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token comment"},"// 其它配置"),(0,t.Uk)("\n  module"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    rules"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"["),(0,t.Uk)("\n      "),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        test"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token regex"},[(0,t.Wm)("span",{class:"token regex-delimiter"},"/"),(0,t.Wm)("span",{class:"token regex-source language-regex"},"\\.css$"),(0,t.Wm)("span",{class:"token regex-delimiter"},"/")]),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        use"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"["),(0,t.Wm)("span",{class:"token string"},"'style-loader'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'css-loader'"),(0,t.Wm)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n      "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])])],-1),Yn=(0,t.Wm)("p",null,[(0,t.Uk)("在以上代码添加和配置完毕后，我们使用"),(0,t.Wm)("code",null,"npm run dev"),(0,t.Uk)("进行打包，我们点击按钮后，它会出现如下的情况")],-1),Fn=(0,t.Wm)("p",null,[(0,t.Wm)("img",{src:e,alt:"打包结果"})],-1),Xn=(0,t.Wm)("p",null,[(0,t.Wm)("strong",null,"理解"),(0,t.Uk)("： 由于"),(0,t.Wm)("code",null,"item"),(0,t.Uk)("是动态生成的，当我们要将"),(0,t.Wm)("code",null,"yellow"),(0,t.Uk)("颜色改变成"),(0,t.Wm)("code",null,"red"),(0,t.Uk)("时，模块热更新能帮我们在不刷新浏览器的情况下，替换掉样式的内容。直白来说：自动生成的"),(0,t.Wm)("code",null,"item"),(0,t.Uk)("依然存在，只是颜色变了。")],-1),zn=(0,t.Wm)("h4",{id:"在js中的模块热更新",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#在js中的模块热更新","aria-hidden":"true"},"#"),(0,t.Uk)(" 在js中的模块热更新")],-1),Kn=(0,t.Wm)("p",null,[(0,t.Uk)("在介绍完"),(0,t.Wm)("code",null,"CSS"),(0,t.Uk)("中的模块热更新后，我们接下来介绍在"),(0,t.Wm)("code",null,"js"),(0,t.Uk)("中的模块热更新。"),(0,t.Wm)("br")],-1),Gn=(0,t.Wm)("p",null,[(0,t.Uk)("首先，我们在"),(0,t.Wm)("code",null,"src"),(0,t.Uk)("目录下创建两个"),(0,t.Wm)("code",null,".js"),(0,t.Uk)("文件，分别叫"),(0,t.Wm)("code",null,"counter.js"),(0,t.Uk)("和"),(0,t.Wm)("code",null,"number.js"),(0,t.Uk)("，它的代码可以写成下面这样：")],-1),Jn=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token comment"},"// counter.js代码"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"counter"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token keyword"},"var"),(0,t.Uk)(" dom "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(" document"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"createElement"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'div'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n  dom"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"setAttribute"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'id'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'counter'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n  dom"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("innerHTML "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"1"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n  dom"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function-variable function"},"onclick"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"function"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    dom"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("innerHTML "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"parseInt"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("dom"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("innerHTML"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Wm)("span",{class:"token number"},"10"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token operator"},"+"),(0,t.Wm)("span",{class:"token number"},"1"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n  document"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("body"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"appendChild"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("dom"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])])],-1),Qn=(0,t.Wm)("p",null,[(0,t.Wm)("code",null,"number.js"),(0,t.Uk)("中的代码是下面这样的：")],-1),Vn=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token comment"},"// number.js代码"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"number"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token keyword"},"var"),(0,t.Uk)(" dom "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(" document"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"createElement"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'div'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n  dom"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"setAttribute"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'id'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Wm)("span",{class:"token string"},"'number'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n  dom"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("innerHTML "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'1000'"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n  document"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("body"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"appendChild"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("dom"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])])],-1),Zn=(0,t.Wm)("p",null,[(0,t.Uk)("添加完以上两个"),(0,t.Wm)("code",null,".js"),(0,t.Uk)("文件后，我们再来对"),(0,t.Wm)("code",null,"index.js"),(0,t.Uk)("文件做一下小小的改动：")],-1),ns=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token comment"},"// index.js代码"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token keyword"},"import"),(0,t.Uk)(" counter "),(0,t.Wm)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'./counter'"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token keyword"},"import"),(0,t.Uk)(" number "),(0,t.Wm)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'./number'"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token function"},"counter"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token function"},"number"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n")])])],-1),ss=(0,t.Wm)("p",null,[(0,t.Uk)("在以上都改动完毕后，我们使用"),(0,t.Wm)("code",null,"npm run dev"),(0,t.Uk)("进行打包，在页面上点击数字"),(0,t.Wm)("code",null,"1"),(0,t.Uk)("，让它不断的累计到你喜欢的一个数值(记住这个数值)，这个时候我们再去修改"),(0,t.Wm)("code",null,"number.js"),(0,t.Uk)("中的代码，将"),(0,t.Wm)("code",null,"1000"),(0,t.Uk)("修改为"),(0,t.Wm)("code",null,"3000"),(0,t.Uk)("，也就是下面这样修改：")],-1),as=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token comment"},"// number.js代码"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token keyword"},"export"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"default"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"number"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token keyword"},"var"),(0,t.Uk)(" dom "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(" document"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"createElement"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'div'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n  dom"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"setAttribute"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'id'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Wm)("span",{class:"token string"},"'number'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n  dom"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("innerHTML "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'3000'"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n  document"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("body"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"appendChild"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("dom"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])]),(0,t.Wm)("div",{class:"highlight-lines"},[(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("br"),(0,t.Wm)("div",{class:"highlight-line"}," "),(0,t.Wm)("br"),(0,t.Wm)("br")])],-1),ts=(0,t.Wm)("p",null,[(0,t.Uk)("我们发现，虽然"),(0,t.Wm)("code",null,"1000"),(0,t.Uk)("成功变成了"),(0,t.Wm)("code",null,"3000"),(0,t.Uk)("，但我们累计的数值却重置到了"),(0,t.Wm)("code",null,"1"),(0,t.Uk)("，这个时候你可能会问，我们不是配置了模块热更新了吗，为什么不像"),(0,t.Wm)("code",null,"CSS"),(0,t.Uk)("一样，直接替换即可？")],-1),os=(0,t.Wm)("p",null,[(0,t.Wm)("strong",null,"回答"),(0,t.Uk)("：这是因为"),(0,t.Wm)("code",null,"CSS"),(0,t.Uk)("文件，我们是使用了"),(0,t.Wm)("code",null,"loader"),(0,t.Uk)("来进行处理，有些"),(0,t.Wm)("code",null,"loader"),(0,t.Uk)("已经帮我们写好了模块热更新的代码，我们直接使用即可(类似的还有"),(0,t.Wm)("code",null,".vue"),(0,t.Uk)("文件，"),(0,t.Wm)("code",null,"vue-loader"),(0,t.Uk)("也帮我们处理好了模块热更新)。而对于"),(0,t.Wm)("code",null,"js"),(0,t.Uk)("代码，还需要我们写一点点额外的代码，像下面这样子：")],-1),es=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token keyword"},"import"),(0,t.Uk)(" counter "),(0,t.Wm)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'./counter'"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token keyword"},"import"),(0,t.Uk)(" number "),(0,t.Wm)("span",{class:"token keyword"},"from"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'./number'"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token function"},"counter"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token function"},"number"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n\n"),(0,t.Wm)("span",{class:"token comment"},"// 额外的模块HMR配置"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token keyword"},"if"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("module"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("hot"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  module"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("hot"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"accept"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'./number.js'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    document"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("body"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"removeChild"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("document"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"getElementById"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'number'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function"},"number"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])])],-1),cs=(0,t.Wm)("p",null,"写完上面的额外代码后，我们再在浏览器中重复我们刚才的操作，即：",-1),ls=(0,t.Wm)("ul",null,[(0,t.Wm)("li",null,[(0,t.Uk)("累加数字"),(0,t.Wm)("code",null,"1"),(0,t.Uk)("带你喜欢的一个值")]),(0,t.Wm)("li",null,[(0,t.Uk)("修改"),(0,t.Wm)("code",null,"number.js"),(0,t.Uk)("中的"),(0,t.Wm)("code",null,"1000"),(0,t.Uk)("为你喜欢的一个值")])],-1),ps=(0,t.Wm)("p",null,[(0,t.Uk)("以下截图是我的测试结果，同时我们也可以在控制台"),(0,t.Wm)("code",null,"console"),(0,t.Uk)("上，看到模块热更新第二次启动时，已经成功帮我们把"),(0,t.Wm)("code",null,"number.js"),(0,t.Uk)("中的代码输出到了浏览器。")],-1),ks=(0,t.Wm)("p",null,[(0,t.Wm)("img",{src:c,alt:"模块热更新结果"})],-1),ms=(0,t.Wm)("p",null,[(0,t.Wm)("strong",null,"小结"),(0,t.Uk)("：在更改"),(0,t.Wm)("code",null,"CSS"),(0,t.Uk)("样式文件时，我们不用书写"),(0,t.Wm)("code",null,"module.hot"),(0,t.Uk)("，这是因为各种"),(0,t.Wm)("code",null,"CSS"),(0,t.Uk)("的"),(0,t.Wm)("code",null,"loader"),(0,t.Uk)("已经帮我们处理了，相同的道理还有"),(0,t.Wm)("code",null,".vue"),(0,t.Uk)("文件的"),(0,t.Wm)("code",null,"vue-loader"),(0,t.Uk)("，它也帮我们处理了模块热更新，但在"),(0,t.Wm)("code",null,".js"),(0,t.Uk)("文件中，我们还是需要根据实际的业务来书写一点"),(0,t.Wm)("code",null,"module.hot"),(0,t.Uk)("代码的。")],-1),us=(0,t.Wm)("h2",{id:"处理es6语法",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#处理es6语法","aria-hidden":"true"},"#"),(0,t.Uk)(" 处理ES6语法")],-1),Ws=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"说明"),(0,t.Wm)("p",null,[(0,t.Uk)("我们在项目中书写的"),(0,t.Wm)("code",null,"ES6"),(0,t.Uk)("代码，由于考虑到低版本浏览器的兼容性问题，需要把"),(0,t.Wm)("code",null,"ES6"),(0,t.Uk)("代码转换成低版本浏览器能够识别的"),(0,t.Wm)("code",null,"ES5"),(0,t.Uk)("代码。使用"),(0,t.Wm)("code",null,"babel-loader"),(0,t.Uk)("和"),(0,t.Wm)("code",null,"@babel/core"),(0,t.Uk)("来进行"),(0,t.Wm)("code",null,"ES6"),(0,t.Uk)("和"),(0,t.Wm)("code",null,"ES5"),(0,t.Uk)("之间的链接，使用"),(0,t.Wm)("code",null,"@babel/preset-env"),(0,t.Uk)("来进行"),(0,t.Wm)("code",null,"ES6"),(0,t.Uk)("转"),(0,t.Wm)("code",null,"ES5")])],-1),is=(0,t.Wm)("p",null,[(0,t.Uk)("在处理"),(0,t.Wm)("code",null,"ES6"),(0,t.Uk)("代码之前，我们先来清理一下前面小节的中的代理，我们需要删除"),(0,t.Wm)("code",null,"counter.js"),(0,t.Uk)("、"),(0,t.Wm)("code",null,"number.js"),(0,t.Uk)("和"),(0,t.Wm)("code",null,"style.css"),(0,t.Uk)("这个三个文件，删除后的文件目录大概是下面这样子的：")],-1),rs=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Wm)("span",{class:"token operator"},"--"),(0,t.Uk)(" dist\n"),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Uk)("   "),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Wm)("span",{class:"token operator"},"--"),(0,t.Uk)(" index"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("html\n"),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Uk)("   "),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Wm)("span",{class:"token operator"},"--"),(0,t.Uk)(" main"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("js\n"),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Wm)("span",{class:"token operator"},"--"),(0,t.Uk)(" src\n"),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Uk)("   "),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Wm)("span",{class:"token operator"},"--"),(0,t.Uk)(" index"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("html\n"),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Uk)("   "),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Wm)("span",{class:"token operator"},"--"),(0,t.Uk)(" index"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("js\n"),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Wm)("span",{class:"token operator"},"--"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"package"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("json\n"),(0,t.Wm)("span",{class:"token operator"},"|"),(0,t.Wm)("span",{class:"token operator"},"--"),(0,t.Uk)(" webpack"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("config"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("js\n")])])],-1),Us=(0,t.Wm)("p",null,[(0,t.Uk)("要处理"),(0,t.Wm)("code",null,"ES6"),(0,t.Uk)("代码，需要我们安装几个"),(0,t.Wm)("code",null,"npm"),(0,t.Uk)("包，可以使用如下的命令去安装")],-1),ds=(0,t.Wm)("div",{class:"language-bash ext-sh"},[(0,t.Wm)("pre",{class:"language-bash"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token comment"},"# 安装 babel-loader @babel/core"),(0,t.Uk)("\n$ "),(0,t.Wm)("span",{class:"token function"},"npm"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"install"),(0,t.Uk)(" babel-loader @babel/core --save-dev\n\n"),(0,t.Wm)("span",{class:"token comment"},"# 安装 @babel/preset-env"),(0,t.Uk)("\n$ "),(0,t.Wm)("span",{class:"token function"},"npm"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"install"),(0,t.Uk)(" @babel/preset-env --save-dev\n\n"),(0,t.Wm)("span",{class:"token comment"},"# 安装 @babel/polyfill进行ES5代码补丁"),(0,t.Uk)("\n$ "),(0,t.Wm)("span",{class:"token function"},"npm"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"install"),(0,t.Uk)(" @babel/polyfill --save-dev\n")])])],-1),gs=(0,t.Wm)("p",null,[(0,t.Uk)("安装完毕后，我们需要改写"),(0,t.Wm)("code",null,"src/index.js"),(0,t.Uk)("中的代码，可以是下面这个样子：")],-1),bs=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token keyword"},"import"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'@babel/polyfill'"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token keyword"},"const"),(0,t.Uk)(" arr "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"["),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token keyword"},"new"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token class-name"},"Promise"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token keyword"},"new"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token class-name"},"Promise"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token keyword"},"new"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token class-name"},"Promise"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n\narr"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"map"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token parameter"},"item"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  console"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"log"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("item"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n")])])],-1),hs=(0,t.Wm)("p",null,[(0,t.Uk)("处理"),(0,t.Wm)("code",null,"ES6"),(0,t.Uk)("代码，需要我们使用"),(0,t.Wm)("code",null,"loader"),(0,t.Uk)("，所以需要在"),(0,t.Wm)("code",null,"webpack.config.js"),(0,t.Uk)("中添加如下的代码：")],-1),vs=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Uk)("module"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("exports "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token comment"},"// 其它配置"),(0,t.Uk)("\n  module"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    rules"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"["),(0,t.Uk)("\n      "),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        test"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token regex"},[(0,t.Wm)("span",{class:"token regex-delimiter"},"/"),(0,t.Wm)("span",{class:"token regex-source language-regex"},"\\.js$"),(0,t.Wm)("span",{class:"token regex-delimiter"},"/")]),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        exclude"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token regex"},[(0,t.Wm)("span",{class:"token regex-delimiter"},"/"),(0,t.Wm)("span",{class:"token regex-source language-regex"},"node_modules"),(0,t.Wm)("span",{class:"token regex-delimiter"},"/")]),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        use"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          loader"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'babel-loader'"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n      "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])])],-1),js=(0,t.Wm)("p",null,[(0,t.Wm)("code",null,"@babel/preset-env"),(0,t.Uk)("需要在根目录下有一个"),(0,t.Wm)("code",null,".babelrc"),(0,t.Uk)("文件，所以我们新建一个"),(0,t.Wm)("code",null,".babelrc"),(0,t.Uk)("文件，它的代码如下：")],-1),ws=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token string"},'"presets"'),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"["),(0,t.Wm)("span",{class:"token string"},'"@babel/preset-env"'),(0,t.Wm)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])])],-1),fs=(0,t.Wm)("p",null,[(0,t.Uk)("为了让我们的打包变得更加清晰，我们需要在"),(0,t.Wm)("code",null,"webpack.config.js"),(0,t.Uk)("中把"),(0,t.Wm)("code",null,"source-map"),(0,t.Uk)("配置成"),(0,t.Wm)("code",null,"none"),(0,t.Uk)("，像下面这样：")],-1),xs=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Uk)("module"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("exports "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token comment"},"// 其他配置"),(0,t.Uk)("\n  mode"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'development'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n  devtool"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'none'"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])])],-1),ys=(0,t.Wm)("p",null,[(0,t.Uk)("本次打包，我们需要使用"),(0,t.Wm)("code",null,"npx webpack"),(0,t.Uk)("，打包的结果如下图所示：")],-1),Ss=(0,t.Wm)("p",null,[(0,t.Wm)("img",{src:l,alt:"打包结果"})],-1),qs=(0,t.Wm)("p",null,"在以上的打包中，我们可以发现：",-1),Cs=(0,t.Wm)("ul",null,[(0,t.Wm)("li",null,"箭头函数被转成了普通的函数形式"),(0,t.Wm)("li",null,[(0,t.Uk)("如果你仔细观察这次打包输出的话，你会发现打包体积会非常大，有几百K，这是因为我们将"),(0,t.Wm)("code",null,"@babel/polyfill"),(0,t.Uk)("中的代码全部都打包进了我们的代码中")])],-1),Es=(0,t.Wm)("p",null,[(0,t.Uk)("针对以上最后一个问题，我们希望，我们使用了哪些"),(0,t.Wm)("code",null,"ES6"),(0,t.Uk)("代码，就引入它对应的"),(0,t.Wm)("code",null,"polyfill"),(0,t.Uk)("包，达到一种按需引入的目的，要实现这样一个效果，我们需要在"),(0,t.Wm)("code",null,".babelrc"),(0,t.Uk)("文件中做一下小小的改动，像下面这样：")],-1),Hs=(0,t.Wm)("div",{class:"language-json ext-json"},[(0,t.Wm)("pre",{class:"language-json"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token property"},'"presets"'),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"["),(0,t.Wm)("span",{class:"token punctuation"},"["),(0,t.Wm)("span",{class:"token string"},'"@babel/preset-env"'),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token property"},'"corejs"'),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"2"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token property"},'"useBuiltIns"'),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},'"usage"'),(0,t.Uk)("\n  "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},"]"),(0,t.Wm)("span",{class:"token punctuation"},"]"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])])],-1),Ms=(0,t.Wm)("p",null,[(0,t.Uk)("同时需要注意的时，我们使用了"),(0,t.Wm)("code",null,'useBuiltIns:"usage"'),(0,t.Uk)("后，在"),(0,t.Wm)("code",null,"index.js"),(0,t.Uk)("中就不用使用"),(0,t.Wm)("code",null,"import '@babel/polyfill'"),(0,t.Uk)("这样的写法了，因为它已经帮我们自动这样做了。"),(0,t.Wm)("br")],-1),Ps=(0,t.Wm)("p",null,[(0,t.Uk)("在以上配置完毕后，我们再次使用"),(0,t.Wm)("code",null,"npx webpack"),(0,t.Uk)("进行打包，如下图，可以看到此次打包后，"),(0,t.Wm)("code",null,"main.js"),(0,t.Uk)("的大小明显变小了。")],-1),_s=(0,t.Wm)("p",null,[(0,t.Wm)("img",{src:p,alt:"打包结果"})],-1),Ts={render:function(n,s){const a=(0,t.up)("OutboundLink");return(0,t.wg)(),(0,t.j4)(t.HY,null,[k,m,u,W,i,r,U,d,g,b,h,v,j,w,f,x,y,S,q,C,E,H,M,P,_,T,D,L,(0,t.Wm)("p",null,[R,$,B,N,O,A,I,(0,t.Wm)("a",Y,[F,(0,t.Wm)(a)]),X,z,K]),G,J,Q,V,Z,nn,sn,an,tn,on,en,cn,ln,pn,kn,mn,un,Wn,rn,Un,dn,gn,bn,hn,vn,jn,wn,fn,xn,yn,Sn,qn,Cn,En,Hn,Mn,Pn,_n,Tn,Dn,Ln,Rn,$n,Bn,Nn,On,An,In,Yn,Fn,Xn,zn,Kn,Gn,Jn,Qn,Vn,Zn,ns,ss,as,ts,os,es,cs,ls,ps,ks,ms,us,Ws,is,rs,Us,ds,gs,bs,hs,vs,js,ws,fs,xs,ys,Ss,qs,Cs,Es,Hs,Ms,Ps,_s],64)}}}}]);