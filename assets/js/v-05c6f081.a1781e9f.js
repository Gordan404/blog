(self.webpackChunkgordan404wiki=self.webpackChunkgordan404wiki||[]).push([[108],{782:(n,s,a)=>{"use strict";a.r(s),a.d(s,{data:()=>t});const t={key:"v-05c6f081",path:"/interview/react.html",title:"前端面试指北",lang:"zh-CN",frontmatter:{sidebar:"auto"},excerpt:"",headers:[{level:2,title:"React基础",slug:"react基础",children:[{level:3,title:"什么是 React",slug:"什么是-react",children:[]},{level:3,title:"函数式编程",slug:"函数式编程",children:[]},{level:3,title:"Vue React一些区别",slug:"vue-react一些区别",children:[]},{level:3,title:"React的生命周期",slug:"react的生命周期",children:[]},{level:3,title:"React 父子组建生命周期",slug:"react-父子组建生命周期",children:[]},{level:3,title:"为什么React中事件绑定的函数内部this默认指向undefined",slug:"为什么react中事件绑定的函数内部this默认指向undefined",children:[]},{level:3,title:"浅谈React合成",slug:"浅谈react合成",children:[]},{level:3,title:"React 组件中怎么做事件代理",slug:"react-组件中怎么做事件代理",children:[]},{level:3,title:"setState",slug:"setstate",children:[]}]},{level:2,title:"React 进阶",slug:"react-进阶",children:[{level:3,title:"受控和非受控组",slug:"受控和非受控组",children:[]},{level:3,title:"类组件和函数组件之间的区别",slug:"类组件和函数组件之间的区别",children:[]},{level:3,title:"Portals(传送门)",slug:"portals-传送门",children:[]}]}],filePathRelative:"interview/react.md",git:{updatedTime:1636464809e3,contributors:[{name:"lishuaixingNewBee",email:"vae.china@foxmail.com",commits:8}]}}},5575:(n,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>N});var t=a(4057);const o=a.p+"assets/img/37.1d25cb01.png",e=a.p+"assets/img/38.ab69e805.jpg",c=(0,t.Wm)("h1",{id:"前端面试指北",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#前端面试指北","aria-hidden":"true"},"#"),(0,t.Uk)(" 前端面试指北")],-1),p=(0,t.Wm)("h2",{id:"react基础",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#react基础","aria-hidden":"true"},"#"),(0,t.Uk)(" React基础")],-1),k=(0,t.Wm)("h3",{id:"什么是-react",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#什么是-react","aria-hidden":"true"},"#"),(0,t.Uk)(" 什么是 React")],-1),l=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"TIP"),(0,t.Wm)("p",null,"React是一个简单的javascript UI库，用于构建高效、快速的用户界面。它是一个轻量级库，因此很受欢迎。它遵循组件设计模式、声明式编程范式和函数式编程概念，以使前端应用程序更高效。它使用虚拟DOM来有效地操作DOM。它遵循从高阶组件到低阶组件的单向数据流。")],-1),m=(0,t.Wm)("h3",{id:"函数式编程",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#函数式编程","aria-hidden":"true"},"#"),(0,t.Uk)(" 函数式编程")],-1),u=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"TIP"),(0,t.Wm)("p",null,"函数式编程是声明式编程的一部分。javascript中的函数是第一类公民，这意味着函数是数据，你可以像保存变量一样在应用程序中保存、检索和传递这些函数。"),(0,t.Wm)("p",null,[(0,t.Wm)("strong",null,"函数式编程有些核心的概念，如下：")]),(0,t.Wm)("ul",null,[(0,t.Wm)("li",null,"不可变性(Immutability)"),(0,t.Wm)("li",null,"纯函数(Pure Functions)"),(0,t.Wm)("li",null,"数据转换(Data Transformations)"),(0,t.Wm)("li",null,"高阶函数 (Higher-Order Functions)"),(0,t.Wm)("li",null,"递归"),(0,t.Wm)("li",null,"组合")])],-1),W=(0,t.Wm)("h3",{id:"vue-react一些区别",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#vue-react一些区别","aria-hidden":"true"},"#"),(0,t.Uk)(" Vue React一些区别")],-1),i=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"TIP"),(0,t.Wm)("ol",null,[(0,t.Wm)("li",null,[(0,t.Wm)("code",null,"Vue"),(0,t.Uk)(" 定义了很多指令(如v-for、v-if)去实现一些展示，"),(0,t.Wm)("code",null,"React"),(0,t.Uk)(" 主要还是依赖JS方法去实现")]),(0,t.Wm)("li",null,[(0,t.Wm)("code",null,"Vue"),(0,t.Uk)(" 绑定事件 "),(0,t.Wm)("code",null,"Event"),(0,t.Uk)(" 是原生的和DOM事件一样, 而 "),(0,t.Wm)("code",null,"React"),(0,t.Uk)(" 是封装组合之后的 "),(0,t.Wm)("code",null,"SyntheticBaseEvent"),(0,t.Uk)(" 需要访问"),(0,t.Wm)("code",null,"nativeEvent"),(0,t.Uk)(" 才能获取原生"),(0,t.Wm)("code",null,"Event"),(0,t.Uk)("。")]),(0,t.Wm)("li",null,[(0,t.Wm)("code",null,"Vue"),(0,t.Uk)(" 使用 "),(0,t.Wm)("code",null,"v-model"),(0,t.Uk)(" 语法糖实现双向数据绑定，而"),(0,t.Wm)("code",null,"React"),(0,t.Uk)("则需要自己绑定"),(0,t.Wm)("code",null,"onChange"),(0,t.Uk)(" 事件")])])],-1),r=(0,t.Wm)("h3",{id:"react的生命周期",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#react的生命周期","aria-hidden":"true"},"#"),(0,t.Uk)(" React的生命周期")],-1),U=(0,t.Wm)("p",null,[(0,t.Wm)("img",{src:o,alt:"React的生命周期"})],-1),d=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"TIP"),(0,t.Wm)("p",null,[(0,t.Uk)("创建、 更新、 销毁三个阶段 "),(0,t.Wm)("code",null,"componentDidMount"),(0,t.Uk)(" => "),(0,t.Wm)("code",null,"componentDidUpdate"),(0,t.Uk)(" => "),(0,t.Wm)("code",null,"componentWillUnmount")]),(0,t.Wm)("ol",null,[(0,t.Wm)("li",null,[(0,t.Wm)("strong",null,"创建阶段："),(0,t.Uk)(" 旧版本组件构造函数调用完成之后会有"),(0,t.Wm)("code",null,"componentWillmount"),(0,t.Uk)("方法，新版本省略，新增"),(0,t.Wm)("code",null,"getDerivedStateFromProps"),(0,t.Uk)("方法（并不常用），且该方法在组件props,state变更时也会被调用")]),(0,t.Wm)("li",null,[(0,t.Wm)("strong",null,"更新阶段:"),(0,t.Uk)(" 当"),(0,t.Wm)("code",null,"shouldComponentUpdate"),(0,t.Uk)("返回ture后，会调用rende方法重新渲染组件。在组件更新完成之前有"),(0,t.Wm)("code",null,"getSnapShotBeforeUpdate"),(0,t.Uk)("方法")])]),(0,t.Wm)("ul",null,[(0,t.Wm)("li",null,[(0,t.Wm)("strong",null,[(0,t.Wm)("code",null,"componentWillMount")]),(0,t.Uk)("(16.9废弃):在渲染之前执行，用于根组件中的 App 级配置。")]),(0,t.Wm)("li",null,[(0,t.Wm)("strong",null,[(0,t.Wm)("code",null,"componentDidMount")]),(0,t.Uk)("：在第一次渲染之后执行，可以在这里做AJAX请求，DOM 的操作或状态更新以及设置事件监听器。")]),(0,t.Wm)("li",null,[(0,t.Wm)("strong",null,[(0,t.Wm)("code",null,"componentWillReceiveProps")]),(0,t.Uk)("(废弃)：在初始化render的时候不会执行，它会在组件接受到新的状态(Props)时被触发，一般用于父组件状态更新时子组件的重新渲染, "),(0,t.Wm)("code",null,"getDerivedStateFromProps"),(0,t.Uk)("可替代")]),(0,t.Wm)("li",null,[(0,t.Wm)("strong",null,[(0,t.Wm)("code",null,"getDerivedStateFromProps")]),(0,t.Uk)("：会在调用 render 方法之前调用，并且在初始挂载及后续更新时都会被调用。它应返回一个对象来更新 state，如果返回 null 则不更新任何内")]),(0,t.Wm)("li",null,[(0,t.Wm)("strong",null,[(0,t.Wm)("code",null,"shouldComponentUpdate")]),(0,t.Uk)("：确定是否更新组件。默认情况下，它返回true。如果确定在 state 或 props 更新后组件不需要在重新渲染，则可以返回false，这是一个提高性能的方法。")]),(0,t.Wm)("li",null,[(0,t.Wm)("strong",null,[(0,t.Wm)("code",null,"componentWillUpdate")]),(0,t.Uk)("(废弃)：在shouldComponentUpdate返回 true 确定要更新组件之前件之前执行。")]),(0,t.Wm)("li",null,[(0,t.Wm)("strong",null,[(0,t.Wm)("code",null,"componentDidUpdate")]),(0,t.Uk)("：它主要用于更新DOM以响应props或state更改。")]),(0,t.Wm)("li",null,[(0,t.Wm)("strong",null,[(0,t.Wm)("code",null,"componentWillUnmount")]),(0,t.Uk)("：创建、 更新、 销毁三个阶段，它用于取消任何的网络请求，或删除与组件关联的所有事件监听")])])],-1),h=(0,t.Wm)("h3",{id:"react-父子组建生命周期",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#react-父子组建生命周期","aria-hidden":"true"},"#"),(0,t.Uk)(" React 父子组建生命周期")],-1),f=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token comment"},"// 加载渲染过程"),(0,t.Uk)("\n  parent"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("constructor\n  parent"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("componentWillMount\n  parent"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("render\n    child"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("constructor\n    child"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("componentWillMount\n    child"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("render\n    child"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("componentDidMount\n  parent"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("componentDidMount\n"),(0,t.Wm)("span",{class:"token comment"},"// 更新过程"),(0,t.Uk)("\n  parent"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("shouldComponentUpdate\n  parent"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("componentWillUpdate\n  parent"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("render\n    child"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("componentWillReceiveProps\n    child"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("shouldComponentUpdate\n    child"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("render\n    child"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("componentDidUpdate\n  parent"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("componentDidUpdate\n"),(0,t.Wm)("span",{class:"token comment"},"// 卸载组件"),(0,t.Uk)("\n  parent"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("componentWillUnmount\n    child"),(0,t.Wm)("span",{class:"token operator"},"-"),(0,t.Uk)("componentWillUnmount\n")])])],-1),v=(0,t.Wm)("h3",{id:"为什么react中事件绑定的函数内部this默认指向undefined",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#为什么react中事件绑定的函数内部this默认指向undefined","aria-hidden":"true"},"#"),(0,t.Uk)(" 为什么React中事件绑定的函数内部this默认指向undefined")],-1),g=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"TIP"),(0,t.Wm)("p",null,"函数的作用域是由函数调用的时候决定的，而不是函数声明的时候。第一次调用是作为对象中的函数调用，因此this指向对象本身。而第二次调用是作为普通函数调用，所以this指向全局对象，在严格模式时会指向undefined。"),(0,t.Wm)("p",null,[(0,t.Wm)("strong",null,"解决办法：")]),(0,t.Wm)("ol",null,[(0,t.Wm)("li",null,[(0,t.Uk)("使用es6箭头函数，箭头函数this默认指向上一层级的环境 "),(0,t.Wm)("code",null,"<input onChange={()=>this.change()} />")]),(0,t.Wm)("li",null,[(0,t.Uk)("使用bind绑定this写在constructor里 "),(0,t.Wm)("code",null,"this.change = this.change.bind(this)"),(0,t.Uk)(";")])])],-1),y=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token keyword"},"var"),(0,t.Uk)(" name "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'Gordanlee'"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token keyword"},"var"),(0,t.Uk)(" obj "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    name"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'Wuyifan'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function-variable function"},"getName"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"function"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("name"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n\n"),(0,t.Wm)("span",{class:"token keyword"},"var"),(0,t.Uk)(" getName "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(" obj"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("getName"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\nobj"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"getName"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// Wuyifan"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token function"},"getName"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// Gordanlee"),(0,t.Uk)("\n\n"),(0,t.Wm)("span",{class:"token keyword"},"class"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token class-name"},"EventDemo"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"extends"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token class-name"},[(0,t.Uk)("React"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("Component")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function"},"constructor"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token parameter"},"props"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"super"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("props"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n            name"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'gordanlee'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// 修改方法的 this 指向"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("clickHandler2 "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"clickHandler2"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"bind"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        推荐面这种写法\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function"},"clickHandler1"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n      console"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"log"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'this....'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// this 默认是 undefined"),(0,t.Uk)("\n      "),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"setState"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          name"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'wuyifan'"),(0,t.Uk)("\n      "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token comment"},"// 静态方法，this 指向当前实例"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function"},"clickHandler2"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token comment"},"// 获取 event"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function-variable function"},"clickHandler3"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token parameter"},"event"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function"},"render"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// // this - 使用 bind"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"return"),(0,t.Uk)(" \n        "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("div"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n          "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("p onClick"),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("clickHandler1"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n              "),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("name"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n          "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Uk)("p"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n          "),(0,t.Wm)("span",{class:"token comment"},"// 不建议在标签中写bind, 会导致bind多次执行，建议再头部赋值只绑一次"),(0,t.Uk)("\n          "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("p onClick"),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"clickHandler2"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"bind"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n              "),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("name"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n          "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Uk)("p"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n          "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("p onClick"),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"clickHandler2"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n              "),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("name"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n          "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Uk)("p"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n          "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("p onClick"),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("clickHandler3"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n              "),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("name"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n          "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Uk)("p"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("div"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])])],-1),w=(0,t.Wm)("h3",{id:"浅谈react合成",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#浅谈react合成","aria-hidden":"true"},"#"),(0,t.Uk)(" 浅谈React合成")],-1),b=(0,t.Wm)("p",null,[(0,t.Wm)("img",{src:e,alt:"浅谈React合成"})],-1),R=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"TIP"),(0,t.Wm)("p",null,[(0,t.Wm)("code",null,"JSX"),(0,t.Uk)("上写的事件并没有绑定在对应的真实 "),(0,t.Wm)("code",null,"DOM"),(0,t.Uk)(" 上，而是通过事件代理的方式，将所有的事件都统一绑定在了 "),(0,t.Wm)("code",null,"document"),(0,t.Uk)("上。这样的方式不仅减少了内存消耗，还能在组件挂载销毁时统一订阅和移除事件。 （在"),(0,t.Wm)("code",null,"React17"),(0,t.Uk)("之前，"),(0,t.Wm)("code",null,"React"),(0,t.Uk)("是把所有事件委托在"),(0,t.Wm)("code",null,"document"),(0,t.Uk)("上的，"),(0,t.Wm)("code",null,"React17"),(0,t.Uk)("及以后版本不再把事件委托在"),(0,t.Wm)("code",null,"document"),(0,t.Uk)("上，而是委托在挂载的容器上了。）")]),(0,t.Wm)("ul",null,[(0,t.Wm)("li",null,[(0,t.Wm)("strong",null,"目的:")])]),(0,t.Wm)("ol",null,[(0,t.Wm)("li",null,"合成事件首先抹平了浏览器之间的兼容问题(如标准事件模型、IE)，另外这是一个跨浏览器原生事件包装器，赋予了跨浏览器开发的能力；"),(0,t.Wm)("li",null,"对于原生浏览器事件来说，浏览器会给监听器创建一个事件对象。如果你有很多的事件监听，那么就需要分配很多的事件对象，造成高额的内存分配问题。但是对于合成事件来说，有一个事件池专门来管理它们的创建和销毁，当事件需要被使用时，就会从池子中复用对象，事件回调结束后，就会销毁事件对象上的属性，从而便于下次复用事件对象")]),(0,t.Wm)("ul",null,[(0,t.Wm)("li",null,[(0,t.Wm)("strong",null,"优点")])]),(0,t.Wm)("ol",null,[(0,t.Wm)("li",null,"兼容所有浏览器，更好的跨平台；"),(0,t.Wm)("li",null,"将事件统一存放在一个数组，避免频繁的新增与删除（垃圾回收）。"),(0,t.Wm)("li",null,"方便 react 统一管理和事务机制")])],-1),C=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token comment"},"// 定义捕获事件"),(0,t.Uk)("\nVue"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("div @click"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("capture"),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Wm)("span",{class:"token string"},'"handleClick"'),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\nReact"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("div onClickCapture"),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("onClickOuter"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token comment"},"// react 事件不能采用 return false 的方式来阻止浏览器的默认行为，而必须要地明确地调用preventDefault()来阻止默认行为。"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token comment"},"// `Event` 是封装组合之后的 `SyntheticBaseEvent`, 模拟出来的DOM事件所有能力。"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token comment"},"// `event.nativeEvent` 是原生事件对象"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token comment"},"// React绑定事件，最后都会追加Eevent参数"),(0,t.Uk)("\n")])])],-1),x=(0,t.Wm)("h3",{id:"react-组件中怎么做事件代理",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#react-组件中怎么做事件代理","aria-hidden":"true"},"#"),(0,t.Uk)(" React 组件中怎么做事件代理")],-1),S=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"TIP"),(0,t.Wm)("p",null,"React基于Virtual DOM实现了一个SyntheticEvent层（合成事件层），定义的事件处理器会接收到一个合成事件对象的实例，它符合W3C标准，且与原生的浏览器事件拥有同样的接口，支持冒泡机制，所有的事件都自动绑定在最外层上。 在React底层，主要对合成事件做了两件事："),(0,t.Wm)("ul",null,[(0,t.Wm)("li",null,"事件委派： React会把所有的事件绑定到结构的最外层，使用统一的事件监听器，这个事件监听器上维持了一个映射来保存所有组件内部事件监听和处理函数。"),(0,t.Wm)("li",null,"自动绑定： React组件中，每个方法的上下文都会指向该组件的实例，即自动绑定this为当前组件。")])],-1),D=(0,t.Wm)("h3",{id:"setstate",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#setstate","aria-hidden":"true"},"#"),(0,t.Uk)(" setState")],-1),j=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"TIP"),(0,t.Wm)("ol",null,[(0,t.Wm)("li",null,"不可变值(为了性能优化,不去触发shouldComponentUpdate)"),(0,t.Wm)("li",null,"可能是异步更新")]),(0,t.Wm)("ul",null,[(0,t.Wm)("li",null,"异步： 在 React 可以控制的地方，就为 true，比如在 React 生命周期事件和合成事件中，都会走合并操作，延迟更新的策略。"),(0,t.Wm)("li",null,"同步： 在 React 无法控制的地方，比如原生事件，具体就是在 addEventListener 、setTimeout、setInterval 等事件中，就只能同步更新。")]),(0,t.Wm)("ol",{start:"3"},[(0,t.Wm)("li",null,"可能会被合并")]),(0,t.Wm)("ul",null,[(0,t.Wm)("li",null,[(0,t.Wm)("code",null,"setState()"),(0,t.Uk)(" 传递对象就会被合并（类似Object.assign），传递函数则不会被合并")])])],-1),T=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token keyword"},"class"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token class-name"},"StateDemo"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"extends"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token class-name"},[(0,t.Uk)("React"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("Component")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function"},"constructor"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token parameter"},"props"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"super"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("props"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n\n        "),(0,t.Wm)("span",{class:"token comment"},"// 第一，state 要在构造函数中定义"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n            count"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"0"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function"},"render"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("div"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n            "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("p"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("count"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Uk)("p"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n            "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("button onClick"),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("increase"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("累加"),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Uk)("button"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Uk)("div"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function-variable function"},"increase"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// this.state.count++ // 错误的写法"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// setState 一定要用不可变值了"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// 只能用setState去修改值，禁止提前修改值，而导致触发shouldComponentUpdate"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"setState"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n            count"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("count "),(0,t.Wm)("span",{class:"token operator"},"+"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"1"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// SCU"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n         console"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"log"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'callback'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("count"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// 1 异步获取"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// this.setState 是异步的，如果立刻同步获取是拿不到最新修改的值，需要用setState第二个参数会调函数中获取, 联想 Vue $nextTick - DOM"),(0,t.Uk)("\n        console"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"log"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'同步获取'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("count"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// 0 "),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// 操作数组、对象的的常用形式"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token function"},"setTimeout"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          "),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"setState"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n            count"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"100"),(0,t.Uk)("\n          "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n          console"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"log"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'setTimeout'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("count"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// 100"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"0"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function-variable function"},"increase2"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// state 异步更新前会被合并"),(0,t.Uk)("\n      "),(0,t.Wm)("span",{class:"token keyword"},"for"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token keyword"},"let"),(0,t.Uk)(" index "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"0"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)(" index "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"10"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)(" index"),(0,t.Wm)("span",{class:"token operator"},"++"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// setState传入对象,会被合并（类似Object.assign）。执行结构只一次 + 1"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"setState"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n            count"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("count "),(0,t.Wm)("span",{class:"token operator"},"+"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"1"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// 0 + 1"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// "),(0,t.Uk)("\n      "),(0,t.Wm)("span",{class:"token function"},"setTimeout"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        console"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"log"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'for'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("count"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// 1"),(0,t.Uk)("\n      "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"0"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function-variable function"},"increase3"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// state 异步更新前会被合并"),(0,t.Uk)("\n      "),(0,t.Wm)("span",{class:"token keyword"},"for"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token keyword"},"let"),(0,t.Uk)(" index "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"0"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)(" index "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"10"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)(" index"),(0,t.Wm)("span",{class:"token operator"},"++"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// setState传入函数不会被合并，结果为10，函数无法像对象一样被合并，只能被执行"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"setState"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token parameter"},[(0,t.Uk)("prevState"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(" props")]),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n          "),(0,t.Wm)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n            count"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(" prevState"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("count "),(0,t.Wm)("span",{class:"token operator"},"+"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"1"),(0,t.Uk)("\n          "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n      "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n      console"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"log"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'for'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("count"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// 0"),(0,t.Uk)("\n      "),(0,t.Wm)("span",{class:"token function"},"setTimeout"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        console"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"log"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'for'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("count"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// 10"),(0,t.Uk)("\n      "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"0"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function-variable function"},"bodyClickHandler"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"setState"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n            count"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("count "),(0,t.Wm)("span",{class:"token operator"},"+"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"1"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        console"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"log"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'count in body event'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("count"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// 最新的值"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function"},"componentDidMount"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// 自己定义的 DOM 事件，setState 是同步的"),(0,t.Uk)("\n        document"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("body"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"addEventListener"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'click'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("bodyClickHandler"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function"},"componentWillUnmount"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// 及时销毁自定义 DOM 事件"),(0,t.Uk)("\n        document"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("body"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"removeEventListener"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token string"},"'click'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("bodyClickHandler"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// clearTimeout"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])])],-1),M=(0,t.Wm)("h2",{id:"react-进阶",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#react-进阶","aria-hidden":"true"},"#"),(0,t.Uk)(" React 进阶")],-1),P=(0,t.Wm)("h3",{id:"受控和非受控组",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#受控和非受控组","aria-hidden":"true"},"#"),(0,t.Uk)(" 受控和非受控组")],-1),I=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"TIP"),(0,t.Wm)("ul",null,[(0,t.Wm)("li",null,[(0,t.Wm)("strong",null,"受控组件："),(0,t.Uk)(" 控制着输入的过程，"),(0,t.Wm)("code",null,"react"),(0,t.Uk)("的"),(0,t.Wm)("code",null,"state"),(0,t.Uk)("为唯一的数据来源，被"),(0,t.Wm)("code",null,"react.state"),(0,t.Uk)("这样控制着的就是受控组件(相当于实现数据绑定)。")]),(0,t.Wm)("li",null,[(0,t.Wm)("strong",null,"非受控组件："),(0,t.Uk)(" 不设置value值(只能设置"),(0,t.Wm)("code",null,"defaultValue"),(0,t.Uk)("、"),(0,t.Wm)("code",null,"defaultChecked"),(0,t.Uk)("),通过ref获取dom节点然后再取value值。在html表单中，input select checkbox，来暂存输入值,如果不需要关心控制值是怎么修改更新的，只需要获取这个组件的值，那么这个就是非受控组件。 "),(0,t.Wm)("strong",null,"非受控组件使用场景：")])]),(0,t.Wm)("ol",null,[(0,t.Wm)("li",null,[(0,t.Uk)("必须手动操作DOM元素，"),(0,t.Wm)("code",null,"setState"),(0,t.Uk)("实现不了。")]),(0,t.Wm)("li",null,[(0,t.Uk)("文件上传"),(0,t.Wm)("code",null,'<input type="file">')]),(0,t.Wm)("li",null,"开始或使用某些富文本编辑器、需要传入DOM 元素")])],-1),O=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token keyword"},"class"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token class-name"},"App"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"extends"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token class-name"},[(0,t.Uk)("React"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("Component")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function"},"constructor"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token parameter"},"props"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"super"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("props"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n            name"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'gordanlee'"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n            flag"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token boolean"},"true"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("nameInputRef "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(" React"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"createRef"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// 创建 ref"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("fileInputRef "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(" React"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"createRef"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function"},"render"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// // input defaultValue"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("div"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n            "),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token comment"},"/* 使用 defaultValue 而不是 value ，使用 ref */"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n            "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("input defaultValue"),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("name"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)(" ref"),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("nameInputRef"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n            "),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token comment"},"/* state 并不会随着改变 */"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n            "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("span"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("name"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("name"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Uk)("span"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n            "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("br"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n            "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("button onClick"),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("alertName"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("alert name"),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Uk)("button"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Uk)("div"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// // checkbox defaultChecked"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// return <div>"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"//     <input"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},'//         type="checkbox"'),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"//         defaultChecked={this.state.flag}"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"//     />"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// </div>"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// file"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// return <div>"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},'//     <input type="file" ref={this.fileInputRef}/>'),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"//     <button onClick={this.alertFile}>alert file</button>"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token comment"},"// </div>"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function-variable function"},"alertName"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"const"),(0,t.Uk)(" elem "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("nameInputRef"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("current "),(0,t.Wm)("span",{class:"token comment"},"// 通过 ref 获取 DOM 节点"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token function"},"alert"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("elem"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("value"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token comment"},"// 不是 this.state.name"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function-variable function"},"alertFile"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"const"),(0,t.Uk)(" elem "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("fileInputRef"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("current "),(0,t.Wm)("span",{class:"token comment"},"// 通过 ref 获取 DOM 节点"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token function"},"alert"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("elem"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("files"),(0,t.Wm)("span",{class:"token punctuation"},"["),(0,t.Wm)("span",{class:"token number"},"0"),(0,t.Wm)("span",{class:"token punctuation"},"]"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("name"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n")])])],-1),H=(0,t.Wm)("h3",{id:"类组件和函数组件之间的区别",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#类组件和函数组件之间的区别","aria-hidden":"true"},"#"),(0,t.Uk)(" 类组件和函数组件之间的区别")],-1),E=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"TIP"),(0,t.Wm)("ul",null,[(0,t.Wm)("li",null,"类组件: 可以使用其他特性，如状态 state 和生命周期钩子。"),(0,t.Wm)("li",null,"函数组件: 当组件只是接收 props 渲染到页面时，就是无状态组件，就属于函数组件，也被称为哑组件或展示组件")]),(0,t.Wm)("ol",null,[(0,t.Wm)("li",null,"函数组件的性能比类组件的性能要高，因为类组件使用的时候要实例化，而函数组件直接执行函数取返回结果即可,为了提高性能，尽量使用函数组"),(0,t.Wm)("li",null,[(0,t.Uk)("函数组件无实例、无"),(0,t.Wm)("code",null,"this"),(0,t.Uk)("、无状态state,无生命周期不能扩展其他方法。")]),(0,t.Wm)("li",null,"函数组件获取的总是事件发生的时候的值，即使值在事件发生后已经更新了,而类组件获取的总是最新的值。")])],-1),V=(0,t.Wm)("div",{class:"language-javascript ext-js"},[(0,t.Wm)("pre",{class:"language-javascript"},[(0,t.Wm)("code",null,[(0,t.Wm)("span",{class:"token comment"},"//函数组件传参"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token keyword"},"function"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function"},"CounterFunction"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token parameter"},"props"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token keyword"},"const"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)(" count "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(" props"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token keyword"},"const"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token function-variable function"},"showAlert"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token function"},"setTimeout"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n            "),(0,t.Wm)("span",{class:"token function"},"alert"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("count "),(0,t.Wm)("span",{class:"token operator"},"+"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'--from Function'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"3000"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("div"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n            "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("p"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("You clicked "),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("count"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)(" times"),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Uk)("p"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n            "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("button onClick"),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("showAlert"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("Show count"),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Uk)("button"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Uk)("div"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token comment"},"//类组件"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token keyword"},"class"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token class-name"},"CounterClass"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"extends"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token class-name"},[(0,t.Uk)("React"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("Component")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function-variable function"},"showAlert"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token function"},"setTimeout"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n            "),(0,t.Wm)("span",{class:"token function"},"alert"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("props"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("count "),(0,t.Wm)("span",{class:"token operator"},"+"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token string"},"'--from Class'"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},","),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"3000"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n\n    "),(0,t.Wm)("span",{class:"token function"},"render"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("\n            "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("div"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n                "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("p"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("He clicked "),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("props"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("count"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)(" times"),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Uk)("p"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n                "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("button onClick"),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"showAlert"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"bind"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n                  Show count\n                "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Uk)("button"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n            "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Uk)("div"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n\n\n"),(0,t.Wm)("span",{class:"token keyword"},"class"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token class-name"},"App"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"extends"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token class-name"},[(0,t.Uk)("React"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("Component")]),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n    state "),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        count "),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"123"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token function"},"render"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token keyword"},"return"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Uk)("\n            "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("div className"),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Wm)("span",{class:"token string"},'"App"'),(0,t.Uk)(" onClick"),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"=>"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Wm)("span",{class:"token function"},"setState"),(0,t.Wm)("span",{class:"token punctuation"},"("),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Uk)("count"),(0,t.Wm)("span",{class:"token operator"},":"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token number"},"456"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n                "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("CounterFunction count"),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("count"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n                "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Uk)("CounterClass count"),(0,t.Wm)("span",{class:"token operator"},"="),(0,t.Wm)("span",{class:"token punctuation"},"{"),(0,t.Wm)("span",{class:"token keyword"},"this"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("state"),(0,t.Wm)("span",{class:"token punctuation"},"."),(0,t.Uk)("count"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)(),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n            "),(0,t.Wm)("span",{class:"token operator"},"<"),(0,t.Wm)("span",{class:"token operator"},"/"),(0,t.Uk)("div"),(0,t.Wm)("span",{class:"token operator"},">"),(0,t.Uk)("\n        "),(0,t.Wm)("span",{class:"token punctuation"},")"),(0,t.Wm)("span",{class:"token punctuation"},";"),(0,t.Uk)("\n    "),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token punctuation"},"}"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token comment"},"// 当你两次调用的时候，你就会发现他们的页面渲染是相同的，count值都会变成456，但是，alert出来的值可就不一样了。"),(0,t.Uk)("\n"),(0,t.Wm)("span",{class:"token comment"},"// Function的是123，Class的是456。所以当showAlert事件发生的时候，Function取的是发生前的值，是触发事件前的值，就像处对象，哪怕分手后，双方立刻找到了新对象，但仍然记得当初的美好"),(0,t.Uk)("\n")])])],-1),F=(0,t.Wm)("h3",{id:"portals-传送门",tabindex:"-1"},[(0,t.Wm)("a",{class:"header-anchor",href:"#portals-传送门","aria-hidden":"true"},"#"),(0,t.Uk)(" Portals(传送门)")],-1),A=(0,t.Wm)("div",{class:"custom-container tip"},[(0,t.Wm)("p",{class:"custom-container-title"},"TIP"),(0,t.Wm)("p",null,[(0,t.Uk)("组件默认会按照既定层次嵌套渲染，Portal可以将React节点渲染到指定节点(如Dialog、Tooltip),vue2.x需要用"),(0,t.Wm)("code",null,"v-transfer-dom"),(0,t.Uk)(",Vue3.0x可以用"),(0,t.Wm)("code",null,"Teleport")])],-1),N={render:function(n,s){return(0,t.wg)(),(0,t.j4)(t.HY,null,[c,p,k,l,m,u,W,i,r,U,d,h,f,v,g,y,w,b,R,C,x,S,D,j,T,M,P,I,O,H,E,V,F,A],64)}}}}]);